<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>업그레이드 가이드(Upgrade Guide)</title>
  <meta name="description" content="라라벨 한글 메뉴얼에 대한 메뉴얼 페이지입니다.">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/laravel-korean-docs/js/prism.js"></script>

  <link rel="stylesheet" href="/laravel-korean-docs/css/layout.css">
  <link rel="canonical" href="http://www.xpressengine.com/laravel-korean-docs/docs/5.0/upgrade/">
</head>


  <body>

    <div class="container">
    <header>
        <div class="wrap">
            <h1 class="logo">Laravel korean docs <small>laravel 한글 매뉴얼</small></h1>
            <div class="btn_area">
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/tree/kr-5.0/kr">View on Github</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/archive/kr-5.0.zip">Download.zip</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs.git">Git Repository</a>
            </div>
        </div>
    </header>
    <div class="supported">
        <div class="wrap">
            <a class="bnr" href="http://www.xpressengine.com"><img src="/laravel-korean-docs/img/bnr1.png" /></a><a class="bnr" href="http://dev.naver.com/d2"><img src="/laravel-korean-docs/img/bnr2.png" /></a><a class="bnr" href="http://xpressengine.github.io/XEIcon/"><img src="/laravel-korean-docs/img/bnr3.png" /></a><a class="bnr" href="http://xpressengine.github.io/Composer-korean-docs/"><img src="/laravel-korean-docs/img/bnr4.png" /></a><a class="bnr" href="http://laravel.com/"><img src="/laravel-korean-docs/img/bnr5.png" /></a>
        </div>
    </div>
    <div class="body docs">
        <div class="wrap">
            <section class="sidebar">
            <ul>
    <li>Prologue
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/upgrade">업그레이드 가이드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contributions">기여 가이드</a></li>
        </ul>
    </li>
    <li>Setup
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/installation">설치하기</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/configuration">설정</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/homestead">라라벨 홈스테드</a></li>
        </ul>
    </li>
    <li>The Basics
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/routing">HTTP 라우팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/middleware">HTTP 미들웨어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/controllers">HTTP 컨트롤러</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/requests">Requests</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/responses">Responses</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/views">뷰-Views</a></li>
        </ul>
    </li>
    <li>Architecture Foundations
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/providers">서비스 프로바이더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/container">서비스 컨테이너</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contracts">Contracts</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/facades">파사드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/lifecycle">라이프사이클</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/structure">어플리케이션 구조</a></li>
        </ul>
    </li>
    <li>Services
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/authentication">인증</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/billing">라라벨 캐셔</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/cache">캐시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/collections">컬렉션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/bus">커맨드 버스</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/extending">프레임워크의 확장</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/elixir">라라벨 엘릭서</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/encryption">암호화</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/envoy">Envoy</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/errors">에러와 로깅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/events">이벤트</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/filesystem">파일시스템 / 클라우드 스토리지</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/hashing">해시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/helpers">헬퍼 함수</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/localization">지역화-다국어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/mail">메일</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/packages">패키지 개발</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/pagination">페이지네이션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queues">큐</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/session">세션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/templates">템플릿</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/testing">테스팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/validation">Validation</a></li>
        </ul>
    </li>
    <li>Database
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/database">기본적인 데이터 베이스 사용법</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queries">쿼리 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/eloquent">Eloquent ORM</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/schema">스키마 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/migrations">마이그레이션과 시딩</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/redis">Redis</a></li>
        </ul>
    </li>
    <li>Artisan CLI
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/artisan">아티즌 CLI</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/commands">아티즌 명령어 개발하기</a></li>
        </ul>
    </li>
</ul>
            </section>

      <article class="content">
      <h1 id="업그레이드-가이드(upgrade-guide)">업그레이드 가이드(Upgrade Guide)</h1>

<ul>
<li><a href="#upgrade-5.0.16">Upgrading To 5.0.16</a></li>
<li><a href="#upgrade-5.0">Upgrading To 5.0 From 4.2</a></li>
<li><a href="#upgrade-4.2">Upgrading To 4.2 From 4.1</a></li>
<li><a href="#upgrade-4.1.29">Upgrading To 4.1.29 From &lt;= 4.1.x</a></li>
<li><a href="#upgrade-4.1.26">Upgrading To 4.1.26 From &lt;= 4.1.25</a></li>
<li><a href="#upgrade-4.1">Upgrading To 4.1 From 4.0</a></li>
</ul>

<p><a name="upgrade-5.0.16"></a></p>

<h2 id="5.0.16으로-업그레이드">5.0.16으로 업그레이드</h2>

<p><code>bootstrap/autoload</code> 파일에서 <code>$compiledPath</code> 변수를 다음처럼 변경합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$compiledPath = __DIR__.&#39;/../vendor/compiled.php&#39;;
</code></pre></div>
<p><a name="upgrade-5.0"></a></p>

<h2 id="4.2에서-5.0으로-업그레이드">4.2에서 5.0으로 업그레이드</h2>

<h3 id="새로-설치후-마이그레이션-하기">새로 설치후 마이그레이션 하기</h3>

<p>업그레이드에 대한 권장사항은 새롭게 라라벨 <code>5.0</code> 버전을 인스톨하고 <code>4.2</code> 버전의 사이트의 고유한 어플리케이션 파일들을 새로운 어플리케이션에 복사하라는 것입니다. 여기에는 컨트롤러, 라우트, 엘로퀀트 모델들, 아티즌 명령어들, asset 파일들 그리고 어플리케이션에 지정된 기타 코드들을 포함합니다.</p>

<p>업그레이드를 시작하기 위해서 로컬 환경의 새로운 디렉토리에 <a href="/docs/5.0/installation">라라벨 5 어플리케이션을 설치</a>합니다. 업그레이드를 위한 각 단계의 진행에 대해서 차근차근 알아보겠습니다. </p>

<h3 id="컴포저-의존성-&amp;-패키지">컴포저 의존성 &amp; 패키지</h3>

<p>설치된 5.0 버전의 어플리케이션에 추가적인 컴포저 의존 패키지들을 복사해 넣는 것을 잊지 마십시오. 여기에는 SDK와 같은 서드 파티 코드도 포함됩니다.</p>

<p>라라벨5가 릴리즈 된 이후 바로는 라라벨과 연동되는 일부 패키지는 라라벨5와 호환이 되지 않는수도 있습니다. 패키지의 제작자에게 라라벨5 버전에 대한 대응계획을 확인합니다. 컴포저에 어플리케이션을 위한 추가적인 의존 패키지를 추가하였다면 <code>composer updata</code> 를 실행 해야 합니다. </p>

<h3 id="네임스페이스">네임스페이스</h3>

<p>라라벨 4에서는 기본적으로 어플리케이션의 코드에 네임스페이스가 구성되어 있지 않았습니다. 그래서 예를 들면 모든 Eloquent 모델들과 컨트롤러는 &quot;글로벌&quot; 네임스페이스 영역에 해당되었습니다. 빠른 전환을 위해서는 라라벨5에서도 마찬가지로 글로벌 네임스페이스 안에 이 클래스들을 지정되도록 합니다. </p>

<h3 id="설정">설정</h3>

<h4 id="마이그레이션-환경-변수">마이그레이션 환경 변수</h4>

<p><code>.env.example</code> 파일을 복사하여 이전 버전에서 <code>.env.php</code> 파일과 동일한 역활을 하는 <code>5.0의</code>.env<code>파일을 생성합니다.</code>APP_ENV<code>와</code>APP_KEY` (암호화 키), 데이터 베이스 연결 정보, 캐시 그리고 세션 드라이버와 같은 어플리케이션에서 사용가능항 설정 값들을 지정할 수 있습니다. </p>

<p>추가적으로 이전버전의 <code>.env.php</code> 파일에 들어 있던 사용자가 지정한 값들을 <code>.env</code> 파일(실제 로컬 환경을 위한 값 설정) 과 <code>.env.example</code> 파일 (다른 팀 구성원들이 참고할 샘플 값)에 복사합니다.)에 복사해 넣습니다. </p>

<p>환경 설정과 관련된 보다 자세한 내용은 <a href="/docs/5.0/configuration#environment-configuration">관련 문서</a>를 확인하십시오. </p>

<blockquote>
<p><strong>주의</strong> 라라벨5 어플리케이션을 실제 제품 서버에 배포하기 전에 적절한 값을 지정한 <code>.env</code> 파일을 준비해 둘 필요가 있습니다.</p>
</blockquote>

<h4 id="설정-파일들">설정 파일들</h4>

<p>라라벨 5.0은 더이상 <code>app/config/{구동환경의이름}/</code> 디렉토리를 주어진 구동 환경에 대한 설정파일로 사용하지 않습니다. 대신에  구동 환경에 의해 달라지는 설정 값들을 <code>.env</code> 파일로 이동 시켰습니다. 그리고 나서 설정 파일 안에서 <code>env(‘키’, ‘기본값’)</code> 의 형태로 해당 값들에 엑세스 합니다. <code>config/database.php</code> 설정 파일에서 이러한 사용예를 확인할 수 있습니다. </p>

<p>구동환경과 관계 없이 변하지 않는 값들과 또는 <code>env()</code> 를 통해서 여러분의 로컬 환경에 의해서 변화하는 값 두가지들에 대한 설정 값들을 <code>config/</code> 디렉토리안에 들어 있는 설정 파일들에 지정합니다. </p>

<p>기억하십시오 만약 여러분이 <code>.env</code> 파일에 추가적인 키들을 추가하였다면, 마찬가지로 <code>.env.exampl</code> 파일에도 추가합니다. 여러분의 팀 동료들이 이를 참고하여 손쉽게 자신의 <code>.env</code> 파일을 생성하는데 도움이 될 것입니다. </p>

<h3 id="라우트">라우트</h3>

<p>이전 버전의 <code>routes.php</code> 파일의 내용을 새로운 <code>app/Http/routes.php</code> 파일에 복사해 넣습니다. </p>

<h3 id="컨트롤러">컨트롤러</h3>

<p>다음으로 모든 컨트롤러들을 <code>app/Http/Controllers</code> 디렉토리로 옮깁니다. 이 가이드에서는 네임스페이스를 사용하도록 변경하지 않기 때문에, <code>app/Http/Controllers</code> 디렉토리를 <code>composer.json</code> 파일의 <code>classmap</code> 여역에 추가합니다. 그런 다음 <code>app/Http/Controllers/Controller.php</code> 추상  클래스에서 네임스페이스를 제거합니다. 마이그레이션된 컨트롤러가 기본 클래스를 상속 받고 있는지 확인합니다. </p>

<p><code>app/Providers/RouteServiceProvider.php</code> 파일 내부에서 <code>namespace</code> 속성을 <code>null</code> 로 설정합니다.</p>

<h3 id="라우트-필터">라우트 필터</h3>

<p><code>app/filters.php</code> 파일에 있던 필터 바인딩들을 <code>app/Providers/RouteServiceProvider.php</code>파일의 <code>boot()</code> 메소드에 복사합니다. <code>app/Providers/RouteServiceProvider.php</code> 파일에 <code>use Illuminate\Support\Facades\Route;</code>를 추가하여 <code>Route</code> 파사드를 사용할 수 있도록 합니다. </p>

<p><code>auth</code> 와 <code>csrf</code> 와 같은 기본적인 라라벨 4.0의 필터는 미들웨어로 변경되었기 때문에 따로 옮길 필요가 없습니다. 이전의 기본 필터들(예를 들어 <code>[&#39;before&#39; =&gt; &#39;auth&#39;]</code>) 을 참조하는 라우트나 컨트롤러들을 수정하여 새로운 미들웨어(예를 들어 <code>[&#39;middleware&#39; =&gt; &#39;auth’].</code>)를 참조 하도록 변경합니다. </p>

<p>필터는 라라벨5에서 삭제되지 않았습니다. 여러분은 여전히 <code>before</code> 와 <code>after</code> 를 사용하여 사용자 정의 필터를 지정하고 사용할 수 있습니다. </p>

<h3 id="전역-csrf">전역 CSRF</h3>

<p>기본적으로 <a href="/docs/5.0/routing#csrf-protection">CSRF 방지</a> 가 전체 라우트에서 활성화되어 있습니다. 이를 비활성화 시키거나 특정 라우트에서만 수동으로 활성화하고자한다면 <code>App\Http\Kernel</code>파일의  <code>middleware</code> 배열에서 다음 미들웨어를 삭제합니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;App\Http\Middleware\VerifyCsrfToken&#39;,
</code></pre></div>
<p>다른곳에서 사용하기 위해서 삭제한 라인을 <code>$routeMiddleware</code> 에 추가합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;csrf&#39; =&gt; &#39;App\Http\Middleware\VerifyCsrfToken&#39;,
</code></pre></div>
<p>이제 개별 라우트 / 컨트롤러에 대해서 <code>[&#39;middleware&#39; =&gt; &#39;csrf&#39;]</code> 와 같이 미들웨어를 지정할 수 있습니다. 미들웨어에 대한 보다 자세한 사항은 <a href="/docs/5.0/middleware">미들웨어 문서</a>를 참고하십시오. </p>

<h3 id="eloquent-모델">Eloquent 모델</h3>

<p>Eloquent 모델을 모아두기 위한 <code>app/Models</code> 디렉토리를 생성합니다. 그런다음에 이 디렉토리를 <code>composer.json</code> 파일의 <code>classmap</code> 에 추가합니다. </p>

<p><code>SoftDeletingTrait</code> 을 사용하는 모델은  <code>Illuminate\Database\Eloquent\SoftDeletes</code>을 사용하도록 변경합니다. </p>

<h4 id="eloquent-캐싱">Eloquent 캐싱</h4>

<p>Eloquent 는 더이상 쿼리 캐시를 위한 <code>remember</code> 메소드를 제공하지 않습니다. 여러분은 이제 <code>Cache::remember</code> 함수를 사용하여 수동으로 쿼리를 캐싱해야 합니다. 캐시와 관련된 보다 자세한 정보는 <a href="/docs/5.0/cache">해당 문서</a>를 참고하십시오. </p>

<h3 id="사용자-인증-모델">사용자 인증 모델</h3>

<p><code>User</code> 모델을 라라벨5의 인증 시스템 용으로 업그레이드 하려면 다음과 같이 하면 됩니다:</p>

<p>** 다음의 <code>use</code> 블럭을 삭제합니다 :**</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">use Illuminate\Auth\UserInterface;</span>
<span class="x">use Illuminate\Auth\Reminders\RemindableInterface;</span>
</code></pre></div>
<p>** 다음의 <code>use</code> 블럭을 추가합니다:**</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">use Illuminate\Auth\Authenticatable;</span>
<span class="x">use Illuminate\Auth\Passwords\CanResetPassword;</span>
<span class="x">use Illuminate\Contracts\Auth\Authenticatable as AuthenticatableContract;</span>
<span class="x">use Illuminate\Contracts\Auth\CanResetPassword as CanResetPasswordContract;</span>
</code></pre></div>
<p>**UserInterface와 RemindableInterface 인터페이스를 제거합니다. </p>

<p><strong>클래스가 다음의 인터페이스들을 구현하도록 선언합니다:</strong></p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">implements AuthenticatableContract, CanResetPasswordContract</span>
</code></pre></div>
<p><strong>클래스 선언부분 안에서 다음의 trait들을 사용하도록 합니다:</strong></p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">use Authenticatable, CanResetPassword;</span>
</code></pre></div>
<p>**이 방법을 사용하면, 클래스의 선언부분의 use 블록에서 <code>Illuminate\Auth\Reminders\RemindableTrait</code> 와 <code>Illuminate\Auth\UserTrait</code>를 제거합니다.</p>

<h3 id="캐셔-변경사항">캐셔 변경사항</h3>

<p><a href="/docs/5.0/billing">라라벨 캐셔</a>의 trait 과 인터페이스의 이름이 변경되었습니다.  <code>BillableTrait</code> 대신 <code>Laravel\Cashier\Billable</code> trait을 사용합니다. 그리고 <code>Laravel\Cashier\BillableInterface</code> 대신에 <code>Laravel\Cashier\Contracts\Billable</code> 인터페이스를 사용합니다. 다른 메소드는 변경되지 않았습니다. </p>

<h3 id="아티즌-명령어들">아티즌 명령어들</h3>

<p><code>app/commands</code> 디렉토리의 모든 커맨드 클래스드들을 새로운 <code>app/Console/Commands</code> 디렉토리로 이옮깁니다. 그다음에 <code>composer.json</code> 파일의 <code>classmap</code> 에 <code>app/Console/Commands</code> 을 추가합니다. </p>

<p>그리고 <code>start/artisan.php</code> 파일의 아티즌 명령어 리스트를 <code>app/Console/Kernel.php</code> 파일의 <code>commands</code> 배열에 복사합니다. </p>

<h3 id="데이터베이스-마이그레이션-&amp;-시딩">데이터베이스 마이그레이션 &amp; 시딩</h3>

<p>데이터베이스에 이미 user 테이블에 존재하기 때문에 라라벨 5.0에 포함된 두개의 마이그레이션 파일을 삭제 합니다. </p>

<p>이전 <code>app/database/migrations</code> 디렉토리의 모든 마이그레이션 클래스들을 새로운 <code>database/migrations</code> 디렉토리로 옮깁니다. 시드 파일들은 <code>app/database/seeds</code> 에서 <code>database/seeds</code> 로 옮깁니다. </p>

<h3 id="글로벌-ioc-바인딩">글로벌 IoC 바인딩</h3>

<p>만약 <code>start/global.php</code> 파일에 <a href="/docs/5.0/container">IoC</a> 바인딩들을 가지고 있었다면, <code>app/Providers/AppServiceProvider.php</code>의 <code>register</code> 메소드로 옮깁니다. <code>App</code> 파사드를 사용해야할 것입니다. </p>

<p>옵션으로, 바인딩들을 해당하는 개별 서비스 프로바이더에 나누어 옮길 수도있습니다. </p>

<h3 id="뷰">뷰</h3>

<p><code>app/views</code> 디렉토리의 뷰 파일들을 <code>resources/views</code> 디렉토리로 옮깁니다</p>

<h3 id="블레이드-태그-변경">블레이드 태그 변경</h3>

<p>보안을 기본적으로 강화하기 위해서 라라벨5에서는 <code>{{ }}</code> 와 <code>{{{ }}}</code> 구문에서 모든 출력을 escape 합니다. 새로운 <code>{!! !!}</code> 구문이 escape 되지 않은 출력을 위해서 사용되어 집니다. 어플리케이션을 업데이트 할 때 가장 안전한 선택은 이전처럼 출력하기 위해서 기존 구문들을 <code>{!! !!}</code> 표기 방식으로 사용하는 것입니다. </p>

<p>하지만 여러분이 <strong>반드시</strong> 이전 버전의 블레이드 문법을 사용해야 한다면 <code>AppServiceProvider@register</code> 의 마지막에 다음 라인들을 추가하면 됩니다. </p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">\Blade::setRawTags(&#39;{{&#39;, &#39;}}&#39;);</span>
<span class="x">\Blade::setContentTags(&#39;{{{&#39;, &#39;}}}&#39;);</span>
<span class="x">\Blade::setEscapedContentTags(&#39;{{{&#39;, &#39;}}}&#39;);</span>
</code></pre></div>
<p>이렇게 하는 것이 편리한것만은 아니며 XSS 공격에 대해서 어플리케이션이 취약해질 수도 있습니다. 
또한 코멘트와 <code>{{--</code> 는 더이상 동작하지 않습니다. </p>

<h3 id="다국어-파일">다국어 파일</h3>

<p><code>app/lang</code> 디렉토리의 언어 파일들을 <code>resources/lang</code> 디렉토리로 옮깁니다</p>

<h3 id="public-디렉토리">public 디렉토리</h3>

<p><code>4.2</code> 어플리케이션의 <code>public</code> 디렉토리에 들어 있던 asset 파일들을 새로운 어플리케이션의 <code>public</code> 디렉토리로 복사해 넣습니다. <code>index.php</code>의 <code>5.0</code> 버전을 유지해야 합니다.</p>

<h3 id="테스트파일">테스트파일</h3>

<p><code>app/tests</code> 폴더의 테스트 파일들을 <code>tests</code> 디렉토리로 옮깁니다. </p>

<h3 id="기타-파일들">기타 파일들</h3>

<p>프로젝트의 다른 파일들을 복사합니다. 예를 들어 <code>.scrutinizer.yml</code>, <code>bower.json</code> 그리고 다를 비슷한 도구 관련 설정 파일 등입니다. </p>

<p>Sass 나 Less, CoffeeScript 파일들을 원하는 위치로 이동합시다. <code>resources/assets</code> 디렉토리가 기본 위치로 적당할 것입니다. </p>

<h3 id="form-&amp;-html-헬퍼">Form &amp; HTML 헬퍼</h3>

<p>만약 Form 이나 HTML 헬퍼를 사용중이었다면 <code>class &#39;Form&#39; not found</code> 또는 <code>class &#39;Html&#39; not found</code>와 같은 에러 메세지를 확인할 수 있을 것입니다. Form 과 HTML 헬퍼는 라라벨 5.0에서 더이상 제공하지 않습니다. 하지만 별도의 <a href="http://laravelcollective.com/docs/5.0/html">Laravel Collective</a> 커뮤니티가 주관하는 대체 시스템이 있습니다. </p>

<p>예를 들자면 <code>composer.json</code> 의 <code>require</code> 영역에 <code>&quot;laravelcollective/html&quot;: &quot;~5.0&quot;</code>를 추가할 수도 있습니다 .</p>

<p>또한 Form 과 HTML 파사드와 서비스 프로바이더가 필요할 것입니다. <code>config/app.php</code> 를 수정하여 &#39;providers&#39; 배열에 다음 라인을 추가하십시오. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;Collective\Html\HtmlServiceProvider&#39;,
</code></pre></div>
<p>다음으로 &#39;aliases&#39; 배열에 다음라인들을 추가합니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;Form&#39; =&gt; &#39;Collective\Html\FormFacade&#39;,
&#39;Html&#39; =&gt; &#39;Collective\Html\HtmlFacade&#39;,
</code></pre></div>
<h3 id="캐시-매니저">캐시 매니저</h3>

<p>어플리케이션에서 라라벨 캐시를 파사드가 아닌 <code>Illuminate\Cache\CacheManager</code> 형태로 주입했었다면 이제는 그 대신에 <code>Illuminate\Contracts\Cache\Repository</code>를 주입하도록 합니다. </p>

<h3 id="페이지네이션">페이지네이션</h3>

<p><code>$paginator-&gt;links()</code> 로 호출되던 부분을 <code>$paginator-&gt;render()</code>으로 교체하십시오.</p>

<p><code>$paginator-&gt;getFrom()</code> 와 <code>$paginator-&gt;getTo()</code>로 호출되던 부분을 각각 <code>$paginator-&gt;firstItem()</code> 와 <code>$paginator-&gt;lastItem()</code> 로 교체합니다. </p>

<p><code>$paginator-&gt;getPerPage()</code>, <code>$paginator-&gt;getCurrentPage()</code>, <code>$paginator-&gt;getLastPage()</code> 그리고 <code>$paginator-&gt;getTotal()</code>메소드 앞에 접두어로 붙던 “get”을 제거 하십시오(예. <code>$paginator-&gt;perPage()</code>)</p>

<h3 id="beanstalk-큐">Beanstalk 큐</h3>

<p>라라벨 5.0에서는 <code>&quot;pda/pheanstalk&quot;: &quot;~2.1&quot;</code> 대신에 <code>&quot;pda/pheanstalk&quot;: &quot;~3.0”</code>을 필요로 합니다. </p>

<h3 id="remote">Remote</h3>

<p>Remote 컴포넌트는 더이상 제공하지 않습니다. </p>

<h3 id="workbench">Workbench</h3>

<p>Workbench 컴포넌트는 더이상 제공하지 않습니다. </p>

<p><a name="upgrade-4.2"></a></p>

<h2 id="4.1에서-4.2로-업그레이드-하기">4.1에서 4.2로 업그레이드 하기</h2>

<h3 id="php-5.4-이상">PHP 5.4 이상</h3>

<p>라라벨 4.2는 PHP 5.4.0 이상을 필요로 합니다. </p>

<h3 id="기본-암호화-방식">기본 암호화 방식</h3>

<p><code>app/config/app.php</code> 설정 파일에 새로운 <code>chpher</code> 옵션을 추가하십시오. 이 옵션값은 <code>MCRYPT_RIJNDAEL_256</code>가 되어야 합니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;cipher&#39; =&gt; MCRYPT_RIJNDAEL_256
</code></pre></div>
<p>이 설정은 라라벨의 암호화 기능에 의해 사용되는 기본 암호화를 제어하는​​ 데 사용됩니다.</p>

<blockquote>
<p><strong>참고:</strong> 라라벨 4.2에서는 기본 암호화 옵션은 가장 안전한 암호화 방식으로 알려진 <code>MCRYPT_RIJNDAEL_128</code> (AES)입니다.  암호화 방식을 <code>MCRYPT_RIJNDAEL_256</code>으로 되돌릴 필요가 있는 경우는 라라벨 4.1 이전 버전에서 암호화 된 쿠키 / 값을 해독해야 하는 경우입니다.</p>
</blockquote>

<h3 id="soft-삭제-모델은-traits를-사용합니다.">Soft 삭제 모델은 Traits를 사용합니다.</h3>

<p>만약 모델의 soft 삭제를 사용하였었따면 <code>softDeletes</code> 속성은 제거되었습니다. 이제 다음처럼 <code>SoftDeletingTrait</code>을 사용해야 합니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">use Illuminate\Database\Eloquent\SoftDeletingTrait;

class User extends Eloquent {
    use SoftDeletingTrait;
}
</code></pre></div>
<p>또한 수동으로 <code>deleted_at</code> 컬럼을  <code>dates</code> 속성에 추가해주어야 합니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">class User extends Eloquent {
    use SoftDeletingTrait;

    protected $dates = [&#39;deleted_at&#39;];
}
</code></pre></div>
<p>모든 soft 삭제 작업을 위한 API는 동일합니다. </p>

<blockquote>
<p><strong>주의:</strong> <code>SoftDeletingTrait</code> 는 기본 모델에 사용해서는 안됩니다. 실제 모델 클래스에서만 사용하도록 합니다.</p>
</blockquote>

<h3 id="뷰-/-페이지네이션-environment-이름-변경">뷰 / 페이지네이션 Environment 이름 변경</h3>

<p>코드상에서 <code>Illuminate\View\Environment</code> 클래스 또는 <code>Illuminate\Pagination\Environment</code> 클래스를 참조하도록 되어 있었다면 그 대신에 <code>Illuminate\View\Factory</code> 와 <code>Illuminate\Pagination\Factory</code>를 참조하도록 변경합니다. 이 두개의 클래스는 기능을 보다 잘 나타내기 위해서 이름이 변경되었습니다. </p>

<h3 id="페이지네이션-프리젠터에-파라미터-추가">페이지네이션 프리젠터에 파라미터 추가</h3>

<p><code>Illuminate\Pagination\Presenter</code>클래스를 확장하는 경우 <code>getPageLinkWrapper</code> 추상 메소드에 <code>rel</code> 인자가 추가되도록 변경되었습니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">abstract public function getPageLinkWrapper($url, $page, $rel = null);
</code></pre></div>
<h3 id="iron.io-큐-암호화">Iron.Io 큐 암호화</h3>

<p>Iron.io 큐 드라이버를 사용하는 경우 큐 설정 파일에서 새롭게 <code>encrypt</code> 옵션을 추가합니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;encrypt&#39; =&gt; true
</code></pre></div>
<p><a name="upgrade-4.1.29"></a></p>

<h2 id="4.1.x-이하에서-4.1.29로-업그레이드-하기">4.1.X 이하에서 4.1.29로 업그레이드 하기</h2>

<p>라라벨 4.1.29에서는 모든 데이터베이스 드라이버에 대한 컬럼 인용 부분이 향상되었습니다. 모델에서 <code>fillable</code> 속성을 사용하지 않은 경우 여러가지 컬럼의 대량 할당에 관한(msass assignment) 취약점으로 부터 어플리케이션을 보호할 수 있습니다. 모델에서 <code>fillable</code> 속성을 사용하여 데이터를 할당하는 경우 어플리케이션이 보다 안전해 집니다. 그러나 여러분이 <code>guarded</code> 속성을 사용하고 있고 사용자로 부터 전달된 배열을 “update” 나 “save” 유형의 기능에 전달하는 경우라면 어플리케이션이 mass assignment 위험에 노출되어 있으므로 즉시 4.1.29로 업그레이드 해야 합니다. </p>

<p>라라벨4.1.29로 업그레이드 하기 위해서는 <code>composer update</code> 를 실행하면 됩니다. 이 업데이트에서는 소스 수정이 필요한 사항들은 포함되어 있지 않습니다. </p>

<p><a name="upgrade-4.1.26"></a></p>

<h2 id="4.1.25-이하에서-4.1.26으로-업그레이드-하기">4.1.25 이하에서 4.1.26으로 업그레이드 하기</h2>

<p>라라벨 4.1.26에서는 “remember me” 쿠키와 관련된 보안이 강화되었습니다. 이 업데이트 이전에는 remember 쿠키가 악의적인 사용자에 의해서 탈취되어 사용자 계정의 암호를 재설정하거나, 로그아웃 해도 장기간 사용이 가능한 상태로 남아 있었습니다. </p>

<p>이번 변경사항에서는 <code>users</code> 테이블(또는 사용자 관리랄 위한 테이블)에 새로운 <code>remember_token</code> 컬럼을 추가해야 합니다. 이 변경으로 인해서 사용자가 어플리케이션에 로그인 할 때마다 새로운 토큰이 할당됩니다. 이 토큰은 사용자가 어플리케이션에서 로그아웃 할때마다 다시 생성됩니다. 이 구현은 만약 “remember me” 쿠키가 탈취 당하더라도 어플리케이션에서 로그아웃 하면 해당 쿠키는 사용할 수 없게 된다는 것을 의미합니다. </p>

<h3 id="업그레이드-방법">업그레이드 방법</h3>

<p>먼저 <code>users</code> 테이블에 null을 허용하는 VARCHAR(100) 또는 TEXT 형식의 <code>remember_token</code> 컬럼을 추가합니다. </p>

<p>다음으로 Eloquent 인증 드라이버를 사용하고 있는 경우에, User 클래스에 다음 세 메소드를 추가하십시오.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">public function getRememberToken()
{
    return $this-&gt;remember_token;
}

public function setRememberToken($value)
{
    $this-&gt;remember_token = $value;
}

public function getRememberTokenName()
{
    return &#39;remember_token&#39;;
}
</code></pre></div>
<blockquote>
<p><strong>주의:</strong> 이 변경으로 인해 현재 사용중인 &quot;Remember me&quot; 세션이 무효화되기 때문에 모든 사용자는 어플리케이션에 접속할 때 강제로 다시 인증을 해야되게 됩니다.</p>
</blockquote>

<h3 id="패키지-개발자에게.">패키지 개발자에게.</h3>

<p><code>Illuminate\Auth\UserProviderInterface</code> 인터페이스에 새로운 2개의 메소드가 추가되었습니다. 기본 드라이버에 간단한 구현예제를 확인하실 수 있습니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">public function retrieveByToken($identifier, $token);

public function updateRememberToken(UserInterface $user, $token);
</code></pre></div>
<p><code>Illuminate\Auth\UserInterface</code>에서도 “업데이트 방법”에서 설명하고 있는 새로운 메소드 3개가 추가되었습니다. </p>

<p><a name="upgrade-4.1"></a></p>

<h2 id="4.0에서-4.1로-업그레이드">4.0에서 4.1로 업그레이드</h2>

<h3 id="컴포저-의존성-업그레이드-하기">컴포저 의존성 업그레이드 하기</h3>

<p>라라벨 어플리케이션을 4.1로 업그레이드 하기 위해서는 <code>composer.json</code> 파일에서 <code>laravel/framework</code>의 버전을 <code>4.1.*</code>으로 변경해야 합니다. </p>

<h3 id="파일-교체">파일 교체</h3>

<p><code>public/index.php</code> 파일을 <a href="https://github.com/laravel/laravel/blob/v4.1.0/public/index.php">저장소의 새로운 버전</a>으로 교체 합니다.</p>

<p><code>artisan</code> 파일을 <a href="https://github.com/laravel/laravel/blob/v4.1.0/artisan">저장소의 새로운 버전</a>으로 교체 합니다.</p>

<h3 id="설정-파일과-옵션-추가">설정 파일과 옵션 추가</h3>

<p><code>app/config/app.php</code> 설정 파일에서 <code>aliases</code> 와 <code>providers</code> 배열을 업데이트 합니다. 배열에서 업데이트 해야될 값은 <a href="https://github.com/laravel/laravel/blob/v4.1.0/app/config/app.php">이 파일</a>에서 확인할 수 있습니다. 사용자가 별도로 지정한 패키지 서비스 프로바이더와 별칭을 따로 추가하는 것을 잊지 마십시오. </p>

<p>새로운 <code>app/config/remote.php</code> 설정 파일을 <a href="https://github.com/laravel/laravel/blob/v4.1.0/app/config/remote.php">저장소</a>로 부터 추가합니다. </p>

<p>새로운 <code>app/config/session.php</code> 파일에서 새로운 <code>expire_on_close</code> 설정 옵션을 추가합니다. 기본값은 <code>false</code> 입니다. </p>

<p><code>app/config/queue.php</code> 파일에서 새로운 <code>failed</code> 설정 섹션을 추가합니다. 이 섹션의 기본값은 다음과 같습니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;failed&#39; =&gt; [
    &#39;database&#39; =&gt; &#39;mysql&#39;, &#39;table&#39; =&gt; &#39;failed_jobs&#39;,
],
</code></pre></div>
<p><strong>(선택사항)</strong> <code>app/config/view.php</code> 파일에서 <code>pagination</code> 설정 옵션을 <code>pagination::slider-3</code> 으로 업데이트 합니다. </p>

<h3 id="컨트롤러-업데이트">컨트롤러 업데이트</h3>

<p><code>app/controllers/BaseController.php</code> 파일의 최 상단 부분에 <code>use</code> 가 사용되었다면 <code>use Illuminate\Routing\Controllers\Controller;</code> 를 <code>use Illuminate\Routing\Controller;</code>으로 변경합니다. </p>

<h3 id="패스워드-리마인더(알리미)-업데이트">패스워드 리마인더(알리미) 업데이트</h3>

<p>패스워드 리마인더는 유연성을 높이기 위해서 많은 변경이 있었습니다. <code>php artisan auth:reminders-controller</code> 아티즌 명령어를 실행하여 작성되는 새로운 컨트롤러를 살펴보십시오. 혹은 <a href="/docs/security#password-reminders-and-reset">변경 관련 문서</a>를 확인하고 그에 따라 어플리케이션을 업데이트 하십시오. </p>

<p><code>app/lang/en/reminders.php</code> 언어 파일을 <a href="https://github.com/laravel/laravel/blob/v4.1.0/app/lang/en/reminders.php">새로운 파일</a>에 맞게 변경하십시오. </p>

<h3 id="구동환경-감지-업데이트">구동환경 감지 업데이트</h3>

<p>보안의 이유로 어플리케이션의 구동 환경을 감지 하기 위해서 URL 도메인은 더 이상 사용되지 않습니다. 이 값은 손쉽게 요청시에 변경이 가능하여 공력을 가능하게 합니다. 머신의 호스트 네임 (맥, 리눅스, 윈도우 에서 <code>hostname</code> 명령어를 사용하십시오) 을 사용하도록 구동 환경 감지 로직을 변경해야 합니다. </p>

<h3 id="로그-파일-간략화.">로그 파일 간략화.</h3>

<p>라라벨은 이제 <code>app/storage/logs/laravel.log</code> 라는 하나의 파일만을 생성합니다. 그러나 이 동작은 <code>app/start/global.php</code> 파일에서 설정이 가능합니다. </p>

<h3 id="trailing-slash-리다이렉션-제거">Trailing Slash 리다이렉션 제거</h3>

<p><code>bootstrap/start.php</code> 파일안에서 <code>$app-&gt;redirectIfTrailingSlash()</code> 호출을 제거 하십시오. 이 기능은 프레임워크에 포함되어 있는 <code>.htaccess</code> 파일에서 처리되어 더이상 메소드가 필요하지 않습니다. </p>

<p>다음으로 <code>public/.htaccess</code> 파일을 <a href="https://github.com/laravel/laravel/blob/v4.1.0/public/.htaccess">새버전의 파일</a> 으로 교체합니다.</p>

<h3 id="현재-라우트-엑세스하기">현재 라우트 엑세스하기</h3>

<p><code>Route::getCurrentRoute()</code> 대신에 <code>Route::current()</code>를 통해서 현재 라우트에 엑세스 할 수 있습니다.  </p>

<h3 id="컴포저-업데이트">컴포저 업데이트</h3>

<p>변경사항 적용을 완료하면 <code>composer update</code> 를 실행하여 어플리케이션 코어 파일을 업데이트 할 수 있습니다. 로딩과 관련된 에러가 발생한다면 다음처럼 <code>--no-scripts</code> 옵션과 함께 <code>update</code> 명령어를 실행하십시오 <code>composer update --no-scripts</code>.</p>

<h3 id="와일드카드-이벤트-리스너">와일드카드 이벤트 리스너</h3>

<p>와일드 카드 이벤트 리스너는 더이상 핸들러 함수의 인자에 이벤트를 전달하지 않습니다.  발행된 이벤트를 확인해야 할 필요가 다면, <code>Event::firing()</code> 를 사용하십시오.</p>

      </article>

    
        </div>
    </div>
</div>
<script>
$('p a[name]').each(function(){
  var name = $(this).attr('name');
  $(this).parent().next('h2').wrapInner('<a name=' + name + '></a>');
  $(this).parent().remove();
});
$('code[class=language-text]').each(function(){
	$(this).removeClass('language-text').addClass('language-php');
});
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
  var pageTracker = _gat._getTracker("UA-46389165-7");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>

</html>
