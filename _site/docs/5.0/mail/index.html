<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>메일(Mail)</title>
  <meta name="description" content="라라벨 한글 메뉴얼에 대한 메뉴얼 페이지입니다.">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/laravel-korean-docs/js/prism.js"></script>

  <link rel="stylesheet" href="/laravel-korean-docs/css/layout.css">
  <link rel="canonical" href="http://www.xpressengine.com/laravel-korean-docs/docs/5.0/mail/">
</head>


  <body>

    <div class="container">
    <header>
        <div class="wrap">
            <h1 class="logo">Laravel korean docs <small>laravel 한글 매뉴얼</small></h1>
            <div class="btn_area">
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/tree/kr-5.0/kr">View on Github</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/archive/kr-5.0.zip">Download.zip</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs.git">Git Repository</a>
            </div>
        </div>
    </header>
    <div class="supported">
        <div class="wrap">
            <a class="bnr" href="http://www.xpressengine.com"><img src="/laravel-korean-docs/img/bnr1.png" /></a><a class="bnr" href="http://dev.naver.com/d2"><img src="/laravel-korean-docs/img/bnr2.png" /></a><a class="bnr" href="http://xpressengine.github.io/XEIcon/"><img src="/laravel-korean-docs/img/bnr3.png" /></a><a class="bnr" href="http://xpressengine.github.io/Composer-korean-docs/"><img src="/laravel-korean-docs/img/bnr4.png" /></a><a class="bnr" href="http://laravel.com/"><img src="/laravel-korean-docs/img/bnr5.png" /></a>
        </div>
    </div>
    <div class="body docs">
        <div class="wrap">
            <section class="sidebar">
            <ul>
    <li>Prologue
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/upgrade">업그레이드 가이드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contributions">기여 가이드</a></li>
        </ul>
    </li>
    <li>Setup
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/installation">설치하기</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/configuration">설정</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/homestead">라라벨 홈스테드</a></li>
        </ul>
    </li>
    <li>The Basics
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/routing">HTTP 라우팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/middleware">HTTP 미들웨어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/controllers">HTTP 컨트롤러</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/requests">Requests</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/responses">Responses</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/views">뷰-Views</a></li>
        </ul>
    </li>
    <li>Architecture Foundations
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/providers">서비스 프로바이더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/container">서비스 컨테이너</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contracts">Contracts</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/facades">파사드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/lifecycle">라이프사이클</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/structure">어플리케이션 구조</a></li>
        </ul>
    </li>
    <li>Services
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/authentication">인증</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/billing">라라벨 캐셔</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/cache">캐시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/collections">컬렉션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/bus">커맨드 버스</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/extending">프레임워크의 확장</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/elixir">라라벨 엘릭서</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/encryption">암호화</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/envoy">Envoy</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/errors">에러와 로깅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/events">이벤트</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/filesystem">파일시스템 / 클라우드 스토리지</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/hashing">해시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/helpers">헬퍼 함수</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/localization">지역화-다국어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/mail">메일</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/packages">패키지 개발</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/pagination">페이지네이션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queues">큐</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/session">세션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/templates">템플릿</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/testing">테스팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/validation">Validation</a></li>
        </ul>
    </li>
    <li>Database
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/database">기본적인 데이터 베이스 사용법</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queries">쿼리 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/eloquent">Eloquent ORM</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/schema">스키마 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/migrations">마이그레이션과 시딩</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/redis">Redis</a></li>
        </ul>
    </li>
    <li>Artisan CLI
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/artisan">아티즌 CLI</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/commands">아티즌 명령어 개발하기</a></li>
        </ul>
    </li>
</ul>
            </section>

      <article class="content">
      <h1 id="메일(mail)">메일(Mail)</h1>

<ul>
<li><a href="#configuration">설정</a></li>
<li><a href="#basic-usage">기본 사용법</a></li>
<li><a href="#embedding-inline-attachments">인라인 첨부</a></li>
<li><a href="#queueing-mail">메일 큐 사용</a></li>
<li><a href="#mail-and-local-development">로컬 개발에서의 메일</a></li>
</ul>

<p><a name="configuration"></a></p>

<h2 id="설정">설정</h2>

<p>라라벨은 인기있는 <a href="http://swiftmailer.org">SwiftMailer</a>를 통해서 깔끔하고 단순한 API 를 제공합니다. 메일에 대한 설정 파일은 <code>app/config/mail.php</code> 파일로 SMTP 호스트, 포트, 인증 및 라이브러리를 통해 송신되는 메세지들의 글로벌 <code>form</code> 주소를 설정할 수 있는 옵션들을 제공합니다. 원하는 경우 어떤 SMTP 서버라도 사용가능합니다. 메일을 보낼 때 PHP 의 <code>mail</code> 함수를 사용하려 한다면 설정 파일에서 <code>driver</code> 를 <code>mail</code>로 변경하면 됩니다. 또한 <code>sendmail</code> 드라이버도 사용가능합니다. </p>

<h3 id="api-드라이버">API 드라이버</h3>

<p>라라벨은 또한 Mailgun 과 Mandrill의 HTTP API 드라이버들을 제공하고 있습니다. 이러한 API들은 대부분 SMTP 보다 간결하고 빠릅니다. 두가지의 드라이버를 사용하기 위해서는 어플리케이션에 Guzzle 4 HTTP 라이브러리를  설치해야 합니다. 다음과 같은 라인을 <code>composer.json</code> 파일에 추가하여 Guzzle 4 를 프로젝트에 추가할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&quot;guzzlehttp/guzzle&quot;: &quot;~4.0&quot;
</code></pre></div>
<h4 id="mailgun-드라이버">Mailgun 드라이버</h4>

<p>Mailgun 드라이버를 사용하려면 <code>config/mail.php</code> 설정파일에 <code>driver</code> 옵션을 <code>mailgun</code>으로 변경하면 됩니다. 다음으로 프로젝트에 <code>config/services.php</code> 파일이 존재하지 않는다면 새롭게 생성합니다. 그 후 다음과 같은 내용을 추가합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;mailgun&#39; =&gt; [
    &#39;domain&#39; =&gt; &#39;your-mailgun-domain&#39;,
    &#39;secret&#39; =&gt; &#39;your-mailgun-key&#39;,
],
</code></pre></div>
<h4 id="mandrill-드라이버">Mandrill 드라이버</h4>

<p>Mandrill 드라이버를 사용하려면 <code>config/mail.php</code> 설정 파일에 <code>driver</code> 부분을 <code>mandrill</code>으로 변경하면 됩니다. 다음으로 프로젝트에 <code>config/services.php</code> 파일이 존재하지 않는다면 새롭게 생성합니다. 그 후 다음과 같은 내용을 추가합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;mandrill&#39; =&gt; [
    &#39;secret&#39; =&gt; &#39;your-mandrill-key&#39;,
],
</code></pre></div>
<h3 id="로그-드라이버">로그 드라이버</h3>

<p><code>config/mail.php</code> 설정 파일에서 <code>driver</code> 옵션을 <code>log</code>로 설정한다면 실제로 이메일을 수신자에게 보내지 않고 로그 파일에 기록하게 됩니다. 이 설정은 주로 로컬에서 빠르게 디버깅을 해야하거나 내용을 확인하고자 할때 유용합니다. </p>

<p><a name="basic-usage"></a></p>

<h2 id="기본-사용법">기본 사용법</h2>

<p><code>Mail::send</code> 메소드를 통해서 이메일을 보낼 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mail::send(&#39;emails.welcome&#39;, [&#39;key&#39; =&gt; &#39;value&#39;], function($message)
{
    $message-&gt;to(&#39;foo@example.com&#39;, &#39;John Smith&#39;)-&gt;subject(&#39;Welcome!&#39;);
});
</code></pre></div>
<p><code>send</code> 메소드의 첫번째 인자로 이메일의 본문에 사용되는 뷰의 이름을 전달합니다. 두번째는 뷰로 전달되는 인자인데 대부분 배열의 형태로 구성되며 <code>$key</code>를 통해서 뷰에서 사용됩니다. 세번째로 전달되는 클로저는 이메일 메세지에 대한 다양한 옵션을 지정하는데 사용됩니다. </p>

<blockquote>
<p><strong>주의:</strong> <code>$message</code>라는 이름의 변수가 항상 이메일 뷰에 전달되고, 인라인 첨부를 사용가능하게 합니다. 따라서 <code>message</code>라는 이름의 변수를 메일 뷰에서 사용하는 것은 피하는게 좋습니다. </p>
</blockquote>

<p>HTML 뷰에 추가로 플레인 텍스트 뷰를 지정할 수도 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mail::send([&#39;html.view&#39;, &#39;text.view&#39;], $data, $callback);
</code></pre></div>
<p>또는 <code>html</code>또는 <code>text</code> 키를 사용하고 한 종류의 뷰를 지정할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mail::send([&#39;text&#39; =&gt; &#39;view&#39;], $data, $callback);
</code></pre></div>
<p>이메일 메세지에 대해 참조나 첨부파일과 같은 다른 옵션들을 지정할 수도 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mail::send(&#39;emails.welcome&#39;, $data, function($message)
{
    $message-&gt;from(&#39;us@example.com&#39;, &#39;Laravel&#39;);

    $message-&gt;to(&#39;foo@example.com&#39;)-&gt;cc(&#39;bar@example.com&#39;);

    $message-&gt;attach($pathToFile);
});
</code></pre></div>
<p>이메일에 첨부파일을 추가하고자 할때는 파일의 MIME 타입 또는 첨부파일이 표시되는 이름을 지정할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$message-&gt;attach($pathToFile, [&#39;as&#39; =&gt; $display, &#39;mime&#39; =&gt; $mime]);
</code></pre></div>
<p>이메일을 보내기 위한 뷰 대신에 간단한 문자열을 사용하고자 한다면 <code>use</code> 메소드를 사용하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mail::raw(&#39;Text to e-mail&#39;, function($message)
{
    $message-&gt;from(&#39;us@example.com&#39;, &#39;Laravel&#39;);

    $message-&gt;to(&#39;foo@example.com&#39;)-&gt;cc(&#39;bar@example.com&#39;);
});
</code></pre></div>
<blockquote>
<p><strong>주의:</strong> <code>Mail::send</code> 클로저에 전달되는 메세지 인스턴스는 SwiftMailer 메세지 클래스를 확장하므로 이메일을 작성하는데 필요한 클래스의 메소드들를 사용할 수 있습니다. </p>
</blockquote>

<p><a name="embedding-inline-attachments"></a></p>

<h2 id="인라인-첨부">인라인 첨부</h2>

<p>이메일에 인라인 이미지를 포함시키는 것은 번거로운 일입니다. 하지만 라라벨에서는 이메일에 이미지를 첨부하고 최적의 CID를 얻을 수 있는 편리한 방법을 제공합니다.</p>

<h4 id="이메일-뷰에서-이미지를-첨부하는-방법">이메일 뷰에서 이미지를 첨부하는 방법</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;body&gt;
    Here is an image:

    &lt;img src=&quot;&lt;?php echo $message-&gt;embed($pathToFile); ?&gt;&quot;&gt;
&lt;/body&gt;
</code></pre></div>
<h4 id="이메일-뷰에서-raw-데이타를-첨부하는-방법">이메일 뷰에서 Raw 데이타를 첨부하는 방법</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;body&gt;
    Here is an image from raw data:

    &lt;img src=&quot;&lt;?php echo $message-&gt;embedData($data, $name); ?&gt;&quot;&gt;
&lt;/body&gt;
</code></pre></div>
<p><code>$message</code> 변수는 항상 <code>Mail</code> 클래스에 의해서 뷰에 전달된다는 것에 주의하십시오. </p>

<p><a name="queueing-mail"></a></p>

<h2 id="메일-큐">메일 큐</h2>

<h4 id="이메일-메세지-큐잉-하기">이메일 메세지 큐잉 하기</h4>

<p>메일을 송신하는 것은 어플리케이션의 응답 시간을 크게 저하시키기 때문에 많은 개발자들은 이메일 메세지를 백그라운드 에서 보낼 수 있도록 큐-대기행열에 두도록 합니다. 라라벨에서는 내장된 <a href="/docs/5.0/queues">일관된 큐 API</a>를 통해서 이러한 작업을 손쉽게 수행할 수 있게 합니다. 이메일 메세지를 대기 큐에 넣기 위해서는 간단하게 <code>Mail</code> 파사드의 <code>queue</code> 메소드를 호출하도록 하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mail::queue(&#39;emails.welcome&#39;, $data, function($message)
{
    $message-&gt;to(&#39;foo@example.com&#39;, &#39;John Smith&#39;)-&gt;subject(&#39;Welcome!&#39;);
});
</code></pre></div>
<p><code>later</code> 메소드를 통해서 이메일을 보낼 때까지의 초단위의 지연시간을 설정할 수도 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mail::later(5, &#39;emails.welcome&#39;, $data, function($message)
{
    $message-&gt;to(&#39;foo@example.com&#39;, &#39;John Smith&#39;)-&gt;subject(&#39;Welcome!&#39;);
});
</code></pre></div>
<p>이메일 메세지를 등록하는 특정 큐 또는 “튜브”를 지정하려 한다면 <code>queueOn</code>과 <code>laterOn</code>  메소드를 사용하여 지정할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mail::queueOn(&#39;queue-name&#39;, &#39;emails.welcome&#39;, $data, function($message)
{
    $message-&gt;to(&#39;foo@example.com&#39;, &#39;John Smith&#39;)-&gt;subject(&#39;Welcome!&#39;);
});
</code></pre></div>
<p><a name="mail-and-local-development"></a></p>

<h2 id="로컬-개발에서의-메일">로컬 개발에서의 메일</h2>

<p>이메일을 송신하는 어플리케이션을 개발하는 경우에 로컬 또는 개발 환경이라면 메세지 전송을 비활성화 하는것이 바람직할 것입니다. 이를 위해서 <code>config/mail.php</code> 설정 파일에 <code>pretend</code> 옵션을 <code>true</code>로 설정하거나 <code>Mail::pretend</code>메소드를 호출하면 됩니다. 메일러가 <code>pretend</code> 모드인 경우에는 이메일 메세지는 수신자에게 송신되는 대신에 어플리케이션의 로그 파일에 기록됩니다. </p>

<p>만약 실제로 이메일이 어떻게 보여지는지 확인하고자 한다면 <a href="https://mailtrap.io">MailTrap</a>과 같은 서비스를 이용하는 것도 고려해보시기 바랍니다. </p>

      </article>

    
        </div>
    </div>
</div>
<script>
$('p a[name]').each(function(){
  var name = $(this).attr('name');
  $(this).parent().next('h2').wrapInner('<a name=' + name + '></a>');
  $(this).parent().remove();
});
$('code[class=language-text]').each(function(){
	$(this).removeClass('language-text').addClass('language-php');
});
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
  var pageTracker = _gat._getTracker("UA-46389165-7");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>

</html>
