<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>HTTP Responses</title>
  <meta name="description" content="라라벨 한글 메뉴얼에 대한 메뉴얼 페이지입니다.">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/laravel-korean-docs/js/prism.js"></script>

  <link rel="stylesheet" href="/laravel-korean-docs/css/layout.css">
  <link rel="canonical" href="http://www.xpressengine.com/laravel-korean-docs/docs/5.0/responses/">
</head>


  <body>

    <div class="container">
    <header>
        <div class="wrap">
            <h1 class="logo">Laravel korean docs <small>laravel 한글 매뉴얼</small></h1>
            <div class="btn_area">
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/tree/kr-5.0/kr">View on Github</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/archive/kr-5.0.zip">Download.zip</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs.git">Git Repository</a>
            </div>
        </div>
    </header>
    <div class="supported">
        <div class="wrap">
            <a class="bnr" href="http://www.xpressengine.com"><img src="/laravel-korean-docs/img/bnr1.png" /></a><a class="bnr" href="http://dev.naver.com/d2"><img src="/laravel-korean-docs/img/bnr2.png" /></a><a class="bnr" href="http://xpressengine.github.io/XEIcon/"><img src="/laravel-korean-docs/img/bnr3.png" /></a><a class="bnr" href="http://xpressengine.github.io/Composer-korean-docs/"><img src="/laravel-korean-docs/img/bnr4.png" /></a><a class="bnr" href="http://laravel.com/"><img src="/laravel-korean-docs/img/bnr5.png" /></a>
        </div>
    </div>
    <div class="body docs">
        <div class="wrap">
            <section class="sidebar">
            <ul>
    <li>Prologue
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/upgrade">업그레이드 가이드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contributions">기여 가이드</a></li>
        </ul>
    </li>
    <li>Setup
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/installation">설치하기</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/configuration">설정</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/homestead">라라벨 홈스테드</a></li>
        </ul>
    </li>
    <li>The Basics
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/routing">HTTP 라우팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/middleware">HTTP 미들웨어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/controllers">HTTP 컨트롤러</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/requests">Requests</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/responses">Responses</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/views">뷰-Views</a></li>
        </ul>
    </li>
    <li>Architecture Foundations
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/providers">서비스 프로바이더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/container">서비스 컨테이너</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contracts">Contracts</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/facades">파사드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/lifecycle">라이프사이클</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/structure">어플리케이션 구조</a></li>
        </ul>
    </li>
    <li>Services
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/authentication">인증</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/billing">라라벨 캐셔</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/cache">캐시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/collections">컬렉션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/bus">커맨드 버스</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/extending">프레임워크의 확장</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/elixir">라라벨 엘릭서</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/encryption">암호화</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/envoy">Envoy</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/errors">에러와 로깅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/events">이벤트</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/filesystem">파일시스템 / 클라우드 스토리지</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/hashing">해시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/helpers">헬퍼 함수</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/localization">지역화-다국어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/mail">메일</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/packages">패키지 개발</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/pagination">페이지네이션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queues">큐</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/session">세션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/templates">템플릿</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/testing">테스팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/validation">Validation</a></li>
        </ul>
    </li>
    <li>Database
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/database">기본적인 데이터 베이스 사용법</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queries">쿼리 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/eloquent">Eloquent ORM</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/schema">스키마 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/migrations">마이그레이션과 시딩</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/redis">Redis</a></li>
        </ul>
    </li>
    <li>Artisan CLI
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/artisan">아티즌 CLI</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/commands">아티즌 명령어 개발하기</a></li>
        </ul>
    </li>
</ul>
            </section>

      <article class="content">
      <h1 id="http-responses">HTTP Responses</h1>

<ul>
<li><a href="#basic-responses">기본적인 Responses</a></li>
<li><a href="#redirects">리다이렉트</a></li>
<li><a href="#other-responses">기타 Responses</a></li>
<li><a href="#response-macros">Response 매크로</a></li>
</ul>

<p><a name="basic-responses"></a></p>

<h2 id="기본적인-responses">기본적인 Responses</h2>

<h4 id="라우트로-부터-문자열-반환">라우트로 부터 문자열 반환</h4>

<p>가장 기본적인 Response 는 라우트로 부터 반환되는 문자열입니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Route::get(&#39;/&#39;, function()
{
    return &#39;Hello World&#39;;
});
</code></pre></div>
<h4 id="사용자-지정-response-생성하기">사용자 지정 Response 생성하기</h4>

<p>대부분의 라우트나 컨트롤러 액션에서는 <code>Illuminate\Http\Response</code>의 인스턴스나 <a href="/docs/5.0/views">뷰</a>를 반환합니다. <code>Response</code> 인스턴스를 반환하는 것은 여러분이 response 의 HTTP 상태 코드나 헤더를 변경할 수 있도록 지원합니다. <code>Response</code>는 <code>Symfony\Component\HttpFoundation\Response</code> 클래스를 상속받고 있으며 HTTP response 를 만들기 위한 다양한 메소드를 제공합니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">use Illuminate\Http\Response;

return (new Response($content, $status))
              -&gt;header(&#39;Content-Type&#39;, $value);
</code></pre></div>
<p>좀 더 쉬운 방법으로 <code>response</code> 헬퍼 함수를 사용할 수 있습니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return response($content, $status)
              -&gt;header(&#39;Content-Type&#39;, $value);
</code></pre></div>
<blockquote>
<p><strong>참고:</strong> <code>Response</code> 객체의 사용가능한 전체 메소드 목록은 <a href="http://laravel.com/api/master/Illuminate/Http/Response.html">API 문서</a>와 <a href="http://api.symfony.com/2.5/Symfony/Component/HttpFoundation/Response.html">Symfony API 문서</a> 를 참고하십시오. </p>
</blockquote>

<h4 id="response-에서-뷰파일-내보내기">Response 에서 뷰파일 내보내기</h4>

<p><code>Response</code> 클래스 메서드에 액세스 할 필요가 있지만, Response 의 컨텐츠 내용으로 뷰를 반환하고 싶다면, <code>view</code> 메소드를 사용하면 됩니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return response()-&gt;view(&#39;hello&#39;)-&gt;header(&#39;Content-Type&#39;, $type);
</code></pre></div>
<h4 id="response에-cookie-추가하기">Response에 Cookie 추가하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">return response($content)-&gt;withCookie(cookie(&#39;name&#39;, &#39;value&#39;));
</code></pre></div>
<h4 id="메소드-체이닝">메소드 체이닝</h4>

<p>대부분의 <code>Response</code> 메소드는 유연하게 response 를 만들 수 있도록 체이닝이 가능합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return response()-&gt;view(&#39;hello&#39;)-&gt;header(&#39;Content-Type&#39;, $type)
                 -&gt;withCookie(cookie(&#39;name&#39;, &#39;value&#39;));
</code></pre></div>
<p><a name="redirects"></a></p>

<h2 id="리다이렉트">리다이렉트</h2>

<p>일반적으로 리다이렉트 Response 는 <code>Illuminate\Http\RedirectResponse</code> 클래스의 인스턴스이며, 사용자를 다른 URL로 리다이렉트하는데 필요한 적절한 헤더를 포함하고 있습니다. </p>

<h4 id="리다이렉트-반환하기">리다이렉트 반환하기</h4>

<p><code>RedirectResponse</code> 인스턴스를 생성하는데는 몇가지 방법이 있습니다. 가장 간단한 방법은 <code>redirect</code> 헬퍼 함수를 사용하는 것입니다. 테스트를 진행할 때 리다이렉트 Response를 생성하는 모킹(Mock)은 일반적으로 잘 하지 않기 때문에, 대부분의 경우에 헬퍼 함수를 사용하게 됩니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return redirect(&#39;user/login&#39;);
</code></pre></div>
<h4 id="리다이렉트에-플래시-데이터와-함께-반환하기">리다이렉트에 플래시 데이터와 함께 반환하기</h4>

<p>새로운 URL로 리다이렉트 이동하고 <a href="/docs/5.0/session">플래시 데이터를 세션에 저장</a> 하는 것은 일반적으로 동시에 진행됩니다. 따라서 편의성을 높이기 위해 <code>RedirectResponse</code> 인스턴스를 생성하고 <strong>동시에</strong> 메소드 체인을 통해 플래시 데이터를 세션에 저장할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return redirect(&#39;user/login&#39;)-&gt;with(&#39;message&#39;, &#39;Login Failed&#39;);
</code></pre></div>
<h4 id="이전-url로-리다이렉트">이전 URL로 리다이렉트</h4>

<p>예를 들어 폼 전송 후에, 사용자를 이전 URL로 리다이렉트 시키고자 하는 경우가 있을 수 있습니다. 이런 경우에는 <code>back</code> 메소드를 사용하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return redirect()-&gt;back();

return redirect()-&gt;back()-&gt;withInput();
</code></pre></div>
<h4 id="이름이-지정된-라우트로-리다이렉트-하기">이름이 지정된 라우트로 리다이렉트 하기</h4>

<p>전달 인자 없이 <code>redirect</code> 헬퍼 함수를 호출할 때에는 <code>Illuminate\Routing\Redirector</code>의 인스턴스가 반환됩니다. 따라서 <code>Redirector</code> 인스턴스의 메소드를 사용할 수 있습니다. 예를 들어 이름지 지정된 라우트로 이동하는 <code>RedirectResponse</code>를 생성하고자 한다면 <code>route</code> 메소드를 사용할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return redirect()-&gt;route(&#39;login&#39;);
</code></pre></div>
<h4 id="이름이-지정된-라우트로-파라미터와-함께-리다이렉트-하기">이름이 지정된 라우트로 파라미터와 함께 리다이렉트 하기</h4>

<p>라우트에 전달해야할 파라미터가 있다면 <code>route</code> 메소드의 두번째 인자로 전달하면 됩니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">// For a route with the following URI: profile/{id}

return redirect()-&gt;route(&#39;profile&#39;, [1]);
</code></pre></div>
<p>라우트에 “ID” 파라미터를 따라 Eloquent 모델을 획득하는 라우트로 리디렉션하는 경우, 모델 그 자신을 그대로 전달할 수도 있습니다. ID는 자동으로 추출되어 질것입니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return redirect()-&gt;route(&#39;profile&#39;, [$user]);
</code></pre></div>
<h4 id="이름지-지정된-라우트로-파라미터-이름과-함께-리다이렉트-하기">이름지 지정된 라우트로 파라미터 이름과 함께 리다이렉트 하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">// For a route with the following URI: profile/{user}

return redirect()-&gt;route(&#39;profile&#39;, [&#39;user&#39; =&gt; 1]);
</code></pre></div>
<h4 id="컨트롤러-액션으로-리다이렉트-하기">컨트롤러 액션으로 리다이렉트 하기</h4>

<p>이름이 지정된 라우트로 이동하는 <code>RedirectResponse</code> 인스턴스를 생성하는것과 비슷하게 <a href="/docs/5.0/controllers">컨트롤러 액션</a> 으로 리다이렉션 할 수 있습니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return redirect()-&gt;action(&#39;App\Http\Controllers\HomeController@index&#39;);
</code></pre></div>
<blockquote>
<p><strong>주의:</strong> <code>URL:setRootControllerNamespace</code> 를 통해서 컨트롤러의 루트 네임스페이스가 지정되었다면, 전체 네임 스페이스를 지정할 필요가 없습니다.</p>
</blockquote>

<h4 id="컨트롤러-액션으로-파라미터와-함께-리다이렉트-하기">컨트롤러 액션으로 파라미터와 함께 리다이렉트 하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">return redirect()-&gt;action(&#39;App\Http\Controllers\UserController@profile&#39;, [1]);
</code></pre></div>
<h4 id="컨트롤러-액션으로-파라미터-이름과-함께-리다이렉트-하기">컨트롤러 액션으로 파라미터 이름과 함께 리다이렉트 하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">return redirect()-&gt;action(&#39;App\Http\Controllers\UserController@profile&#39;, [&#39;user&#39; =&gt; 1]);
</code></pre></div>
<p><a name="other-responses"></a></p>

<h2 id="기타-response">기타 Response</h2>

<p><code>response</code> 헬퍼 함수를 사용하여 편리하게 다른 타입의 response 인스턴스를 생성할 수도 있습니다. <code>response</code> 헬퍼함수를 인자없이 호출하게 되면 <code>Illuminate\Contracts\Routing\ResponseFactory</code> <a href="/docs/5.0/contracts">contract</a> 를 반환합니다. 이 contract 는 response 를 생성하기 위한 다양한 메소드를 제공합니다. </p>

<h4 id="json-response-생성하기">JSON response 생성하기</h4>

<p><code>json</code> 메소드는 헤더의 <code>Content-Type</code> 을 자동으로 <code>application/json</code> 으로 지정합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return response()-&gt;json([&#39;name&#39; =&gt; &#39;Abigail&#39;, &#39;state&#39; =&gt; &#39;CA&#39;]);
</code></pre></div>
<h4 id="jsonp-response-생성하기">JSONP Response 생성하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">return response()-&gt;json([&#39;name&#39; =&gt; &#39;Abigail&#39;, &#39;state&#39; =&gt; &#39;CA&#39;])
                 -&gt;setCallback($request-&gt;input(&#39;callback&#39;));
</code></pre></div>
<h4 id="파일-다운로드-response-생성하기">파일 다운로드 Response 생성하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">return response()-&gt;download($pathToFile);

return response()-&gt;download($pathToFile, $name, $headers);

return response()-&gt;download($pathToFile)-&gt;deleteFileAfterSend(true);
</code></pre></div>
<blockquote>
<p><strong>참고:</strong> 파일 다운로드를 관리하는 Symfony의 HttpFoundation에서 다운로드 할 파일의 이름이 ASCII 파일 이름임을 필요로 하고 있습니다.</p>
</blockquote>

<p><a name="response-macros"></a></p>

<h2 id="response-매크로">Response 매크로</h2>

<p>다양한 라우트와 컨트롤러에서 재사용할 수 있는 사용자 정의 Response를 정의하려면 <code>Illuminate\Contracts\Routing\ResponseFactory</code> 구현 클래스의 <code>macro</code> 메소드를 사용할 수 있습니다.</p>

<p>다음은 <a href="/docs/5.0/providers">service provider&#39;s</a>의 <code>boot</code> 메소드에서 정의하는 예제입니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;?php namespace App\Providers;

use Response;
use Illuminate\Support\ServiceProvider;

class ResponseMacroServiceProvider extends ServiceProvider {

    /**
     * Perform post-registration booting of services.
     *
     * @return void
     */
    public function boot()
    {
        Response::macro(&#39;caps&#39;, function($value)
        {
            return Response::make(strtoupper($value));
        });
    }

}
</code></pre></div>
<p><code>macro</code> 메소드는 매크로로 지정할 이름을 첫 번째 인자로, 클로저를 두 번째 인자로 전달 받습니다. 매크로로 등록된 클로저는 <code>response</code> 헬퍼 함수를 통해서 <code>ResponseFactory</code> 구현 객체에서 호출될것 입니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return response()-&gt;caps(&#39;foo&#39;);
</code></pre></div>
      </article>

    
        </div>
    </div>
</div>
<script>
$('p a[name]').each(function(){
  var name = $(this).attr('name');
  $(this).parent().next('h2').wrapInner('<a name=' + name + '></a>');
  $(this).parent().remove();
});
$('code[class=language-text]').each(function(){
	$(this).removeClass('language-text').addClass('language-php');
});
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
  var pageTracker = _gat._getTracker("UA-46389165-7");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>

</html>
