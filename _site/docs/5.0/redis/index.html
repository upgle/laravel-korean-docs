<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>레디스(Redis)</title>
  <meta name="description" content="라라벨 한글 메뉴얼에 대한 메뉴얼 페이지입니다.">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/laravel-korean-docs/js/prism.js"></script>

  <link rel="stylesheet" href="/laravel-korean-docs/css/layout.css">
  <link rel="canonical" href="http://www.xpressengine.com/laravel-korean-docs/docs/5.0/redis/">
</head>


  <body>

    <div class="container">
    <header>
        <div class="wrap">
            <h1 class="logo"><a href="/laravel-korean-docs/">Laravel korean docs <small>laravel 한글 매뉴얼</small></a></h1>
            <div class="btn_area">
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/tree/kr-5.0/kr">View on Github</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/archive/kr-5.0.zip">Download.zip</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs.git">Git Repository</a>
            </div>
        </div>
    </header>
    <div class="supported">
        <div class="wrap">
            <a class="bnr" href="http://www.xpressengine.com"><img src="/laravel-korean-docs/img/bnr1.png" /></a><a class="bnr" href="http://dev.naver.com/d2"><img src="/laravel-korean-docs/img/bnr2.png" /></a><a class="bnr" href="http://xpressengine.github.io/XEIcon/"><img src="/laravel-korean-docs/img/bnr3.png" /></a><a class="bnr" href="http://xpressengine.github.io/Composer-korean-docs/"><img src="/laravel-korean-docs/img/bnr4.png" /></a><a class="bnr" href="http://laravel.com/"><img src="/laravel-korean-docs/img/bnr5.png" /></a>
        </div>
    </div>
    <div class="body docs">
        <div class="wrap">
            <section class="sidebar">
            <ul>
    <li>Prologue
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/upgrade">업그레이드 가이드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contributions">기여 가이드</a></li>
        </ul>
    </li>
    <li>Setup
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/installation">설치하기</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/configuration">설정</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/homestead">라라벨 홈스테드</a></li>
        </ul>
    </li>
    <li>The Basics
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/routing">HTTP 라우팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/middleware">HTTP 미들웨어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/controllers">HTTP 컨트롤러</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/requests">Requests</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/responses">Responses</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/views">뷰-Views</a></li>
        </ul>
    </li>
    <li>Architecture Foundations
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/providers">서비스 프로바이더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/container">서비스 컨테이너</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contracts">Contracts</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/facades">파사드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/lifecycle">라이프사이클</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/structure">어플리케이션 구조</a></li>
        </ul>
    </li>
    <li>Services
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/authentication">인증</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/billing">라라벨 캐셔</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/cache">캐시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/collections">컬렉션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/bus">커맨드 버스</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/extending">프레임워크의 확장</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/elixir">라라벨 엘릭서</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/encryption">암호화</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/envoy">Envoy</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/errors">에러와 로깅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/events">이벤트</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/filesystem">파일시스템 / 클라우드 스토리지</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/hashing">해시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/helpers">헬퍼 함수</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/localization">지역화-다국어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/mail">메일</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/packages">패키지 개발</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/pagination">페이지네이션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queues">큐</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/session">세션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/templates">템플릿</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/testing">테스팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/validation">Validation</a></li>
        </ul>
    </li>
    <li>Database
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/database">기본적인 데이터 베이스 사용법</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queries">쿼리 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/eloquent">Eloquent ORM</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/schema">스키마 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/migrations">마이그레이션과 시딩</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/redis">Redis</a></li>
        </ul>
    </li>
    <li>Artisan CLI
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/artisan">아티즌 CLI</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/commands">아티즌 명령어 개발하기</a></li>
        </ul>
    </li>
</ul>
            </section>

      <article class="content">
      <h1 id="레디스(redis)">레디스(Redis)</h1>

<ul>
<li><a href="#introduction">소개</a></li>
<li><a href="#configuration">설정</a></li>
<li><a href="#usage">사용법</a></li>
<li><a href="#pipelining">파이프라이닝</a></li>
</ul>

<p><a name="introduction"></a></p>

<h2 id="소개">소개</h2>

<p><a href="http://redis.io">레디스</a> 는 키-밸류 기반의 오픈소서 저장소 입니다. 레디스는 키에 <a href="http://redis.io/topics/data-types#strings">문자열</a>, <a href="http://redis.io/topics/data-types#hashes">해쉬</a>, <a href="http://redis.io/topics/data-types#lists">리스트</a>, <a href="http://redis.io/topics/data-types#sets">세트</a>, 그리고 <a href="http://redis.io/topics/data-types#sorted-sets">정렬 세트</a>를 사용할 수 있기 때문에 데이터 구조 서버로 자주 거론되고 있습니다.</p>

<p>라라벨에서 레디스를 사용하기전에 컴포저로 <code>predis/predis</code> 패키지를 설치해주어야 합니다. </p>

<blockquote>
<p><strong>주의:</strong> 이미 PECL을 통해서 레디스 PHP 익스텐션을 설치하였다면, <code>config/app.php</code> 에서 Redis 별칭-alias 를 수정해야 합니다. </p>
</blockquote>

<p><a name="configuration"></a></p>

<h2 id="설정">설정</h2>

<p>어플리케이션에서 사용할 레디스의 설정은 <code>config/database.php</code> 파일에서 지정할 수 있습니다. 파일 내부의 <code>redis</code> 배열이 어플리케이션에서 사용할 레디스 서버의 설정 정보를 담고 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;redis&#39; =&gt; [

    &#39;cluster&#39; =&gt; true,

    &#39;default&#39; =&gt; [&#39;host&#39; =&gt; &#39;127.0.0.1&#39;, &#39;port&#39; =&gt; 6379],

],
</code></pre></div>
<p>기본적으로 설정된 서버는 개발시에는 충분할 수 있습니다. 하지만 환경에 맞게 설정을 변경할 수도 있습니다. 간단하게 레디스 서버의 이름과 그에 맞는 호스트 및 포트번호를 설정하면 됩니다. </p>

<p>옵션은 라라벨 레디스 클라이언트에게 레디스 노드에 클라이언트 측 샤딩을 수행 할 수 있도록 하여 노드를 풀링하고 사용가능한 RAM 을 가능한 많이 생성할 수 있도록 합니다. 하지만 클라이언트 샤딩은 페일오버를 처리하지는 않기 때문에 다른 기본 저장소를 위해 사용할 캐시 데이터를 취급하는데 주로 적합합니다. </p>

<p>만약 레디스 서버에 인증이 필요하다면 레디스 서버 설정 배열에 <code>password</code> 키/밸류 값을 추가하면 됩니다. </p>

<p><a name="usage"></a></p>

<h2 id="사용법">사용법</h2>

<p><code>Redis::connection</code> 메소드를 호출하여 레디스 인스턴스를 가져올 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$redis = Redis::connection();
</code></pre></div>
<p>이 구문은 기본 레디스 서버의 인스턴스를 반환 합니다. 만약 클러스터링을 사용하지 않고 있으면서, 레디스 설정에서 정의되어 있는 특정 서버 인스턴스를 가져오려면 미리 지정된 서버의 이름을 <code>connection</code> 메소드에 파라미터로 넘겨주면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$redis = Redis::connection(&#39;other&#39;);
</code></pre></div>
<p>레디스 클라이언트의 인스턴스를 가져왔다면 이를 통해서 어떤 <a href="http://redis.io/commands">레디스 명령어</a>라도 실행할 수 있습니다. 라라벨은 매직 메소드를 통해서 레디스 서버에 명령어를 전달합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$redis-&gt;set(&#39;name&#39;, &#39;Taylor&#39;);

$name = $redis-&gt;get(&#39;name&#39;);

$values = $redis-&gt;lrange(&#39;names&#39;, 5, 10);
</code></pre></div>
<p>메소드의 매개 변수가 매직 메소드를 통해서 전달된다는 것에 주의 하십시오. 물론 <code>command</code> 메소드를 사용하여 명령어를 서버에 직접 전달 할 수도 있습니다: </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$values = $redis-&gt;command(&#39;lrange&#39;, [5, 10]);
</code></pre></div>
<p>만약 기본 커넥션을 통해서 명령어를 실행시키는 것이라면 간단하게 <code>Redis</code> 클래스의 스태틱 매직 메소드를 통해서 실행할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Redis::set(&#39;name&#39;, &#39;Taylor&#39;);

$name = Redis::get(&#39;name&#39;);

$values = Redis::lrange(&#39;names&#39;, 5, 10);
</code></pre></div>
<blockquote>
<p><strong>참고:</strong> 레디스 <a href="/docs/5.0/cache">캐시</a> 와 <a href="/docs/5.0/session">세션</a> 드라이버가 라라벨에 포함되어 있습니다.</p>
</blockquote>

<p><a name="pipelining"></a></p>

<h2 id="파이프라이닝">파이프라이닝</h2>

<p>파이프라이닝은 다수의 명령어들을 한번에 서버로 보내야 할 때 사용되어집니다. <code>pipeline</code> 명령어를 통해서 시작할 수 있습니다:</p>

<h4 id="서버에-다수의-명령어들-파이핑하기">서버에 다수의 명령어들 파이핑하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Redis::pipeline(function($pipe)
{
    for ($i = 0; $i &lt; 1000; $i++)
    {
        $pipe-&gt;set(&quot;key:$i&quot;, $i);
    }
});
</code></pre></div>
      </article>

    
        </div>
    </div>
</div>
<script>
$('p a[name]').each(function(){
  var name = $(this).attr('name');
  $(this).parent().next('h2').wrapInner('<a name=' + name + '></a>');
  $(this).parent().remove();
});
$('code[class=language-text]').each(function(){
	$(this).removeClass('language-text').addClass('language-php');
});
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
  var pageTracker = _gat._getTracker("UA-46389165-7");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>

</html>
