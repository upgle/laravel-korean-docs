<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>인증 (Authentication)</title>
  <meta name="description" content="라라벨 한글 메뉴얼에 대한 메뉴얼 페이지입니다.">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/laravel-korean-docs/js/prism.js"></script>

  <link rel="stylesheet" href="/laravel-korean-docs/css/layout.css">
  <link rel="canonical" href="http://www.xpressengine.com/laravel-korean-docs/docs/5.0/authentication/">
</head>


  <body>

    <div class="container">
    <header>
        <div class="wrap">
            <h1 class="logo">Laravel korean docs <small>laravel 한글 매뉴얼</small></h1>
            <div class="btn_area">
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/tree/kr-5.0/kr">View on Github</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/archive/kr-5.0.zip">Download.zip</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs.git">Git Repository</a>
            </div>
        </div>
    </header>
    <div class="supported">
        <div class="wrap">
            <a class="bnr" href="http://www.xpressengine.com"><img src="/laravel-korean-docs/img/bnr1.png" /></a><a class="bnr" href="http://dev.naver.com/d2"><img src="/laravel-korean-docs/img/bnr2.png" /></a><a class="bnr" href="http://xpressengine.github.io/XEIcon/"><img src="/laravel-korean-docs/img/bnr3.png" /></a><a class="bnr" href="http://xpressengine.github.io/Composer-korean-docs/"><img src="/laravel-korean-docs/img/bnr4.png" /></a><a class="bnr" href="http://laravel.com/"><img src="/laravel-korean-docs/img/bnr5.png" /></a>
        </div>
    </div>
    <div class="body docs">
        <div class="wrap">
            <section class="sidebar">
            <ul>
    <li>Prologue
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/upgrade">업그레이드 가이드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contributions">기여 가이드</a></li>
        </ul>
    </li>
    <li>Setup
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/installation">설치하기</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/configuration">설정</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/homestead">라라벨 홈스테드</a></li>
        </ul>
    </li>
    <li>The Basics
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/routing">HTTP 라우팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/middleware">HTTP 미들웨어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/controllers">HTTP 컨트롤러</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/requests">Requests</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/responses">Responses</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/views">뷰-Views</a></li>
        </ul>
    </li>
    <li>Architecture Foundations
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/providers">서비스 프로바이더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/container">서비스 컨테이너</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contracts">Contracts</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/facades">파사드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/lifecycle">라이프사이클</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/structure">어플리케이션 구조</a></li>
        </ul>
    </li>
    <li>Services
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/authentication">인증</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/billing">라라벨 캐셔</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/cache">캐시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/collections">컬렉션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/bus">커맨드 버스</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/extending">프레임워크의 확장</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/elixir">라라벨 엘릭서</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/encryption">암호화</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/envoy">Envoy</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/errors">에러와 로깅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/events">이벤트</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/filesystem">파일시스템 / 클라우드 스토리지</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/hashing">해시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/helpers">헬퍼 함수</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/localization">지역화-다국어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/mail">메일</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/packages">패키지 개발</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/pagination">페이지네이션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queues">큐</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/session">세션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/templates">템플릿</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/testing">테스팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/validation">Validation</a></li>
        </ul>
    </li>
    <li>Database
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/database">기본적인 데이터 베이스 사용법</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queries">쿼리 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/eloquent">Eloquent ORM</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/schema">스키마 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/migrations">마이그레이션과 시딩</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/redis">Redis</a></li>
        </ul>
    </li>
    <li>Artisan CLI
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/artisan">아티즌 CLI</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/commands">아티즌 명령어 개발하기</a></li>
        </ul>
    </li>
</ul>
            </section>

      <article class="content">
      <h1 id="인증-(authentication)">인증 (Authentication)</h1>

<ul>
<li><a href="#introduction">소개</a></li>
<li><a href="#authenticating-users">사용자 인증</a></li>
<li><a href="#retrieving-the-authenticated-user">인증된 사용자 검색</a></li>
<li><a href="#protecting-routes">라우트 보호</a></li>
<li><a href="#http-basic-authentication">HTTP 기본인증</a></li>
<li><a href="#password-reminders-and-reset">패스워드 알림 &amp; 재설정</a></li>
<li><a href="#social-authentication">소셜 인증</a></li>
</ul>

<p><a name="introduction"></a></p>

<h2 id="소개">소개</h2>

<p>라라벨은 인증 구현을 매우 쉽게 해줍니다. 기본적으로 별도의 설정 없이도 대부분이 준비되어 있습니다. 인증에 대한 설정 파일은 <code>config/auth.php</code> 으로 인증 서비스의 동작을 조정할 수 있는 옵션들이 자세한 설명과 함께 제공됩니다.  </p>

<p>기본적으로 라라벨은 <code>app</code> 디렉토리에 <code>App\User</code> 모델을 포함하고 있습니다. 이 모델은 기본적인 Eloquent 인증 드라이버와 함께 사용하게 됩니다. </p>

<p>유념할 것은 이 모델에 대한 데이터베이스 스키마를 작성 할 때, 패스워드 컬럼이 최소 60 자가 되어야 된다는 것입니다. 또한 사용하기 전에 빈 문자열을 허용하는 (NULLABLE) 100자리 문자열의 <code>remember_token</code> 컬럼이 <code>users</code> (또는 동일한) 테이블에 포함되어 있는지 확인하십시오. 이 컬럼은 어플리케이션에서 관리하는 “remember me“ 세션의 토큰을 저장하는데 사용됩니다. 마이그레이션에서 <code>$table-&gt;rememberToken();</code>를 사용하면 추가 할 수 있습니다. 물론 라라벨 5는 이러한 컬럼에 대한 마이그레이션이 별도의 설정 없이도 구성되어 있습니다!</p>

<p>만약 어플리케이션이 Eloquent 를 사용하지 않는다면 라라벨 쿼리 빌더를 사용하는 <code>database</code> 인증 드라이버를 사용 할 수도 있습니다.</p>

<p><a name="authenticating-users"></a></p>

<h2 id="사용자-인증">사용자 인증</h2>

<p>라라벨은 별도의 설정 없이도 컨트롤러와 연동된 두가지 인증을 제공하고 있습니다. <code>AuthController</code> 는 새로운 사용자의 등록과 로그인을 처리하고 <code>PasswordController</code>는 암호 분실시에 사용자 암호 재설정을 처리합니다. </p>

<p>각각의 컨트롤러는 필요한 메서드를 포함하기 위해 trait를 사용합니다. 많은 어플리케이션에서 여러분은 이 컨트롤러들을 한번에 수정할 필요가 없을 것입니다. 이 컨트롤러들이 렌더링하는 뷰파일들은 <code>resources/views/auth</code> 디렉토리에 있습니다. 원한다면 자유롭게 이 뷰 파일들을 수정할 수 있습니다. </p>

<h3 id="사용자-등록">사용자 등록</h3>

<p>새로운 사용자를 등록하는 폼의 필수 입력 항목들을 변경 하고자 한다면, <code>App\Services\Registrar</code> 클래스를 수정하면 됩니다. 이 클래스는 어플리케이션에서 새로운 사용자를 검증하고 생성하는 역할을 합니다.</p>

<p><code>Registrar</code> 클래스의 <code>validator</code> 메소드는 어플리케이션의 새로운 사용자에 대한 폼 검증 규칙을 포함하고 있으며, <code>create</code> 메소드는 데이터베이스에 새로운 <code>User</code> 레코드를 생성하는 역할을 수행합니다. 여러분은 원하는대로 이 메소드들을 수정해도 됩니다. <code>AuthController</code>의 <code>AuthenticatesAndRegistersUsers</code> trait에 포함된 메서드에서 <code>Registrar</code>를 호출합니다. </p>

<h4 id="수동으로-인증">수동으로 인증</h4>

<p>만약 제공된 <code>AuthController</code> 구현 클래스를 사용하지 않는다면, 직접 라라벨의 인증 클래스를 사용하여 사용자 인증을 관리할 필요가 있습니다. 걱정마십시오. 아주 쉽습니다. 먼저 <code>attempt</code> 메소드를 살펴봅시다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;?php namespace App\Http\Controllers;

use Auth;
use Illuminate\Routing\Controller;

class AuthController extends Controller {

    /**
     * Handle an authentication attempt.
     *
     * @return Response
     */
    public function authenticate()
    {
        if (Auth::attempt([&#39;email&#39; =&gt; $email, &#39;password&#39; =&gt; $password]))
        {
            return redirect()-&gt;intended(&#39;dashboard&#39;);
        }
    }

}
</code></pre></div>
<p><code>attempt</code> 메소드는 키 / 값의 쌍으로 이루어진 배열을 첫번째 인자로 전달 받습니다. <code>password</code> 값은 <a href="/docs/5.0/hashing">해시처리</a>될 것입니다. 배열의 다른 값들은 데이터베이스 테이블에서 사용자를 찾는데 사용될것입니다. 따라서 위의 예제에서는, <code>email</code> 컬럼을 통해서 사용자를 찾게됩니다. 사용자를 찾았다면, 해시처리되어 데이터베이스에 저장된 패스워드와 매소드에 전달받은 배열의 해시처리된 <code>password</code> 값을 비교할 것입니다. 두개의 해시처리된 패스워드가 일치한다면 해당 사용자의 새로운 인증 세션이 시작됩니다. </p>

<p><code>attempt</code> 메소드는 인증이 성공하면 <code>true</code> 를 반환합니다. 실패시 <code>false</code> 를 반환합니다.</p>

<blockquote>
<p><strong>참고:</strong> 이 예제에서 <code>email</code> 은 필수 옵션이 아니며 단지 예제로 사용되었습니다. 여러분은 데이터베이스에서 &quot;username&quot;에 해당하는 어떠한 컬럼을 사용할 수 있습니다. </p>
</blockquote>

<p><code>intended</code> 리다이렉트 함수는 사용자가 인증 필터에 잡히기 전에 원래 엑세스 하려고 시도했었던 URL로 사용자를 리다이렉트 시킵니다. 해당 리다이렉트가 불가능한 경우 대체 URI를 메소드에 지정할 수 있습니다. </p>

<h4 id="조건에-따른-사용자-인증">조건에 따른 사용자 인증</h4>

<p>인증 쿼리에 추가적인 조건을 더할 수도 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">if (Auth::attempt([&#39;email&#39; =&gt; $email, &#39;password&#39; =&gt; $password, &#39;active&#39; =&gt; 1]))
{
    // The user is active, not suspended, and exists.
}
</code></pre></div>
<h4 id="사용자가-인증되었는지-확인하기">사용자가 인증되었는지 확인하기</h4>

<p>사용자가 어플리케이션에 이미 로그인되었는지 확인하기 위해서는 <code>check</code> 메소드를 사용하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">if (Auth::check())
{
    // The user is logged in...
}
</code></pre></div>
<h4 id="사용자를-인증하고-&quot;기억-하기&quot;">사용자를 인증하고 &quot;기억 하기&quot;</h4>

<p>여러분의 어플리케이션에 “기억하기” 기능을 제공하고자 한다면, <code>attempt</code> 메소드의 두번째 인자로 사용자의 인증을 무기한 계속 유지할지, 아니면 수동으로 로그아웃 할때까지 유지할지 결정하는 boolean 값을 전달하면 됩니다. 이를 위해서는 <code>users</code> 테이블은 “기억하기” 토근을 저장하는데 사용되는 <code>remember_token</code> 컬럼을 가지고 있어야만 합니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">if (Auth::attempt([&#39;email&#39; =&gt; $email, &#39;password&#39; =&gt; $password], $remember))
{
    // The user is being remembered...
}
</code></pre></div>
<p>만약 여러분이 사용자들을 &quot;기억&quot; 하고 있다면, <code>viaRemember</code> 메소드를 사용하여 해당 사용자가 &quot;remember me(기억 하기)&quot; 쿠키를 사용하여 인증이 되었는지 확인 할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">if (Auth::viaRemember())
{
    //
}
</code></pre></div>
<h4 id="id-를-통해서-인증하기">ID 를 통해서 인증하기</h4>

<p>사용자 ID를 통하여 사용자를 어플리케이션에 로그인 시키려면, <code>loginUsingId</code> 메소드를 사용하면 됩니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Auth::loginUsingId(1);
</code></pre></div>
<h4 id="로그인-없이-사용자-인증정보-검증하기">로그인 없이 사용자 인증정보 검증하기</h4>

<p><code>validate</code> 메소드는 실제로 사용자를 어플리케이션에 로그인 시키지 않고 사용자의 인증 정보를 검증할 수 있도록 해줍니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">if (Auth::validate($credentials))
{
    //
}
</code></pre></div>
<h4 id="단일-요청(request)을-위한-사용자-로그인하기">단일 요청(request)을 위한 사용자 로그인하기</h4>

<p>어플리케이션의 단일 요청(request)에 대해서만 로그인 할 수 있도록 <code>once</code> 메소드를 사용할 수 있습니다. 세션이나 쿠키는 사용되지 않을 것입니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">if (Auth::once($credentials))
{
    //
}
</code></pre></div>
<h4 id="수동으로-사용자-로그인하기">수동으로 사용자 로그인하기</h4>

<p>이미 존재하는 사용자 인스턴스를 기준으로 로그인 해야될 경우에는 사용자 인스턴스와 함께 <code>login</code> 메소드를 호출하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Auth::login($user);
</code></pre></div>
<p>이것은 사용자 인증정보를 사용하여 로그인 하는 <code>attempt</code> 메서드와 동일합니다.</p>

<h4 id="어플리케이션에서-사용자-로그아웃">어플리케이션에서 사용자 로그아웃</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Auth::logout();
</code></pre></div>
<p>여러분이 라라벨에 내장된 라라벨의 인증 컨트롤러를 사용하고 있다면, 사용자를 어플리케이션에서 로그아웃 시키하는 메서드가 별도의 설정 없이도 기본으로 제공 됩니다.</p>

<h4 id="인증-이벤트">인증 이벤트</h4>

<p><code>attempt</code> 메소드가 호출될 때에는 <code>auth.attempt</code> <a href="/docs/5.0/events">이벤트</a>가 발생합니다. 사용자 인증이 성공적이고 사용자가 로그인되었다면, 마찬가지로 <code>auth.login</code> 이벤트가 발생합니다. </p>

<p><a name="retrieving-the-authenticated-user"></a></p>

<h2 id="인증된-사용자-조회하기">인증된 사용자 조회하기</h2>

<p>사용자가 인증이 되고 나면, 사용자의 인스턴스를 얻는 방법에는 여러가지가 있습니다.</p>

<p>첫번째로, <code>Auth</code> 파사드를 사용하여 사용자를 액세스 할 수 있습니다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;?php namespace App\Http\Controllers;

use Illuminate\Routing\Controller;

class ProfileController extends Controller {

    /**
     * Update the user&#39;s profile.
     *
     * @return Response
     */
    public function updateProfile()
    {
        if (Auth::user())
        {
            // Auth::user() returns an instance of the authenticated user...
        }
    }

}
</code></pre></div>
<p>두번째로는, <code>Illuminate\Http\Request</code> 인스턴스를 사용하여 인증된 사용자를 액세스 할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;?php namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Routing\Controller;

class ProfileController extends Controller {

    /**
     * Update the user&#39;s profile.
     *
     * @return Response
     */
    public function updateProfile(Request $request)
    {
        if ($request-&gt;user())
        {
            // $request-&gt;user() returns an instance of the authenticated user...
        }
    }

}
</code></pre></div>
<p>세번째로는, <code>Illuminate\Contracts\Auth\Authenticatable</code> contract를 타입힌트로 지정하는 것입니다.  이 타입힌트는 <a href="/docs/5.0/container">서비스 컨테이너</a>에 의해서 의존성이 해결되는 컨트롤러의 생성자, 컨트롤러 메소드 또는 다른 어떤 클래스의 생성자에서 추가될 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;?php namespace App\Http\Controllers;

use Illuminate\Routing\Controller;
use Illuminate\Contracts\Auth\Authenticatable;

class ProfileController extends Controller {

    /**
     * Update the user&#39;s profile.
     *
     * @return Response
     */
    public function updateProfile(Authenticatable $user)
    {
        // $user is an instance of the authenticated user...
    }

}
</code></pre></div>
<p><a name="protecting-routes"></a></p>

<h2 id="라우트-제한하기">라우트 제한하기</h2>

<p><a href="/docs/5.0/middleware">라우트 미들웨어</a>는 해당 라우트에 인증된 사용자들만 액세스가 가능하도록 할 수 있습니다. 라라벨은 기본적으로 <code>app\Http\Middleware\Authenticate.php</code>로 정의되어 있는 <code>auth</code> 미들웨어를 제공합니다. 여러분은 필요한 라우트를 추가하기만 하면 됩니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">// With A Route Closure...

Route::get(&#39;profile&#39;, [&#39;middleware&#39; =&gt; &#39;auth&#39;, function()
{
    // Only authenticated users may enter...
}]);

// With A Controller...

Route::get(&#39;profile&#39;, [&#39;middleware&#39; =&gt; &#39;auth&#39;, &#39;uses&#39; =&gt; &#39;ProfileController@show&#39;]);
</code></pre></div>
<p><a name="http-basic-authentication"></a></p>

<h2 id="http-기본-인증">HTTP 기본 인증</h2>

<p>HTTP 기본 인증은 어플리케이션에 별도의 “login” 페이지 설정없이도 사용자 인증을 할 수 있는 손쉬운 방법을 제공합니다. 이를 위해서는 <code>auth.basic</code> 미들웨어를 라우트에 추가하면 됩니다:</p>

<h4 id="http-기본-인증을-사용해-라우트-제한하기">HTTP 기본 인증을 사용해 라우트 제한하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Route::get(&#39;profile&#39;, [&#39;middleware&#39; =&gt; &#39;auth.basic&#39;, function()
{
    // Only authenticated users may enter...
}]);
</code></pre></div>
<p>기본적으로, <code>auth.basic</code> 미들웨어는 사용자 레코드의 <code>email</code> 컬럼을 &quot;username&quot;으로 사용합니다.</p>

<h4 id="상태를-유지하지-않는-http-기본-필터-설정하기">상태를 유지하지 않는 HTTP 기본 필터 설정하기</h4>

<p>여러분은 또한 API 인증에 유용한, 세션의 사용자 식별 쿠키 없는 HTTP 기본 인증을 사용할 수 있습니다. 이렇게 하기 위해서는 <code>onceBasic</code> 메소드를 호출하는 <a href="/docs/5.0/middleware">미들웨어를 정의</a>하면 됩니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">public function handle($request, Closure $next)
{
    return Auth::onceBasic() ?: $next($request);
}
</code></pre></div>
<p>PHP FastCGI를 사용하는 경우 HTTP 기본 인증이 제대로 작동하지 않을 것입니다. 다음 행을 <code>.htaccess</code> 파일에 추가하십시오.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">RewriteCond %{HTTP:Authorization} ^(.+)$
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
</code></pre></div>
<p><a name="password-reminders-and-reset"></a></p>

<h2 id="패스워드-알림-&amp;-재설정">패스워드 알림 &amp; 재설정</h2>

<h3 id="모델-&amp;-테이블">모델 &amp; 테이블</h3>

<p>대부분의 웹 어플리케이션은 사용자가 잊어버린 패스워드를 재설정 하는 방법을 제공합니다. 라라벨은 각각의 어플리케이션에서 직접 이 기능을 다시 구현하는 하도록 하기 보다, 패스워드 알림을 보내고 패스워드를 재설정을 수행하는 편리한 메소드를 제공합니다. </p>

<p>이를 이용하려면 <code>User</code> 모델이 <code>Illuminate\Contracts\Auth\CanResetPassword</code> contract을 구현하고 있는지 확인하십시오. 물론 프레임워크에 포함된 <code>User</code> 모델은 이미 이 인터페이스를 구현하고 있으며, 인터페이스 구현에 필요한 메소드를 포함한 <code>Illuminate\Auth\Passwords\CanResetPassword</code> trait을 사용하고 있습니다. </p>

<h4 id="알림-테이블-마이그레이션-생성하기">알림 테이블 마이그레이션 생성하기</h4>

<p>다음으로 패스워드 리셋 토큰을 저장하기 위한 테이블을 생성해야합니다. 이 테이블의 마이그레이션은 별다른 설정 없이도 라라벨에 기본적으로 포함되어 있으며 <code>database/migrations</code> 디렉토리에 존재합니다. 따라서 다음처럼 마이그레이션을 실행하면 됩니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">php artisan migrate
</code></pre></div>
<h3 id="패스워드알림-컨트롤러">패스워드알림 컨트롤러</h3>

<p>라라벨은 사용자 패스워드를 재설정 하는데 필요한 로직을 포함하는 <code>Auth\PasswordController</code>을 가지고 있습니다. 이 뷰 파일들은 <code>resources/views/auth</code> 디렉토리에 있습니다. 어플리케이션의 디자인에 맞게 자유롭게 변경해도 됩니다. </p>

<p>사용자는 <code>PasswordController</code>의 <code>getReset</code> 메소드에 해당하는 링크가 포함된 이메일을 수신할 수 있습니다. 이 메소드는 패스워드를 재설정하는 폼을 표시하고, 사용자가 패스워드를 재설정 할 수 있도록 합니다. 패스워드가 재설정되면 사용자는 자동으로 어플리케이션에 로그인 처리되고 <code>/home</code> 으로 리다이렉트 됩니다. 여러분은 <code>PasswordController</code>의 <code>redirectTo</code> 속성을 정의하여 사용자의 패스워드가 재설정 된 이후에 리다이렉트할 경로를 변경할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">protected $redirectTo = &#39;/dashboard&#39;;
</code></pre></div>
<blockquote>
<p><strong>참고:</strong> 기본적으로 패스워드 재설정 토큰은 1시간 동안만 유효합니다. <code>config/auth.php</code> 파일의 <code>reminder.expire</code> 옵션에서 변경할 수 있습니다. </p>
</blockquote>

<p><a name="social-authentication"></a></p>

<h2 id="소셜-인증">소셜 인증</h2>

<p>기본적인 인증과 더불어 라라벨은 <a href="https://github.com/laravel/socialite">Laravel Socialite</a>를 사용하여 간단하고 편리한 OAuth 인증을 제공합니다. <strong>Socialite 는 현재 페이스북, 트위터, 구글, Github 과 Bitbucket 인증을 지원합니다</strong> </p>

<p>Socialite 를 시작하기 위해서는 <code>composer.json</code> 파일에 다음 패키지를 추가하십시오:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&quot;laravel/socialite&quot;: &quot;~2.0&quot;
</code></pre></div>
<p>다음으로 <code>config/app.php</code> 설정 파일에 <code>Laravel\Socialite\SocialiteServiceProvider</code>를 등록하십시오. <a href="/docs/5.0/facades">파사드</a> 또한 등록해야 합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;Socialize&#39; =&gt; &#39;Laravel\Socialite\Facades\Socialite&#39;,
</code></pre></div>
<p>이제 어플리케이션에서 사용할 OAuth 서비스를 위한 인증 정보를 추가할 필요가 있습니다. 이 인증 정보들은 <code>config/services.php</code> 설정 파일에 지정되어야 하며, 어플리케이션이 필요로 하는 <code>facebook</code>, <code>twitter</code>, <code>google</code>, 또는 <code>github</code> 서비스에 맞게 키가 지정 되어야 합니다. 예를 들어:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&#39;github&#39; =&gt; [
    &#39;client_id&#39; =&gt; &#39;your-github-app-id&#39;,
    &#39;client_secret&#39; =&gt; &#39;your-github-app-secret&#39;,
    &#39;redirect&#39; =&gt; &#39;http://your-callback-url&#39;,
],
</code></pre></div>
<p>이제 사용자 인증을 위한 준비가 되었습니다! 이제 두가지의 라우트가 필요로 합니다: 하나는 OAuth를 사용하기 위한 리다이렉트와 다른 하나는 인증 후 결과를 콜백으로 받기 위한 라우트입니다. 다음은 <code>Socialize</code> 파사드를 사용하는 예제 입니다: </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">public function redirectToProvider()
{
    return Socialize::with(&#39;github&#39;)-&gt;redirect();
}

public function handleProviderCallback()
{
    $user = Socialize::with(&#39;github&#39;)-&gt;user();

    // $user-&gt;token;
}
</code></pre></div>
<p><code>redirect</code> 메소드는 사용자를 OAuth 제공자로 보내는 일을 처리하고 <code>user</code> 메서드는 제공자로부터 전송 받은 요청을 읽고 사용자 정보를 조회하는 일을 합니다. 사용자를 리다이렉트 하기전에, “범위”를 지정 할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return Socialize::with(&#39;github&#39;)-&gt;scopes([&#39;scope1&#39;, &#39;scope2&#39;])-&gt;redirect();
</code></pre></div>
<p>사용자의 인스턴스를 획득하면, 사용자에 대한 보다 자세한 정보를 조회 할 수 있습니다:</p>

<h4 id="사용자의-상세-정보-탐색하기">사용자의 상세 정보 탐색하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$user = Socialize::with(&#39;github&#39;)-&gt;user();

// OAuth Two Providers
$token = $user-&gt;token;

// OAuth One Providers
$token = $user-&gt;token;
$tokenSecret = $user-&gt;tokenSecret;

// All Providers
$user-&gt;getId();
$user-&gt;getNickname();
$user-&gt;getName();
$user-&gt;getEmail();
$user-&gt;getAvatar();
</code></pre></div>
      </article>

    
        </div>
    </div>
</div>
<script>
$('p a[name]').each(function(){
  var name = $(this).attr('name');
  $(this).parent().next('h2').wrapInner('<a name=' + name + '></a>');
  $(this).parent().remove();
});
$('code[class=language-text]').each(function(){
	$(this).removeClass('language-text').addClass('language-php');
});
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
  var pageTracker = _gat._getTracker("UA-46389165-7");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>

</html>
