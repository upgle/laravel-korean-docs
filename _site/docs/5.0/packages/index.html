<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>패키지 개발(Package Development)</title>
  <meta name="description" content="라라벨 한글 메뉴얼에 대한 메뉴얼 페이지입니다.">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/laravel-korean-docs/js/prism.js"></script>

  <link rel="stylesheet" href="/laravel-korean-docs/css/layout.css">
  <link rel="canonical" href="http://www.xpressengine.com/laravel-korean-docs/docs/5.0/packages/">
</head>


  <body>

    <div class="container">
    <header>
        <div class="wrap">
            <h1 class="logo"><a href="/laravel-korean-docs/">Laravel korean docs <small>laravel 한글 매뉴얼</small></a></h1>
            <div class="btn_area">
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/tree/kr-5.0/kr">View on Github</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/archive/kr-5.0.zip">Download.zip</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs.git">Git Repository</a>
            </div>
        </div>
    </header>
    <div class="supported">
        <div class="wrap">
            <a class="bnr" href="http://www.xpressengine.com"><img src="/laravel-korean-docs/img/bnr1.png" /></a><a class="bnr" href="http://dev.naver.com/d2"><img src="/laravel-korean-docs/img/bnr2.png" /></a><a class="bnr" href="http://xpressengine.github.io/XEIcon/"><img src="/laravel-korean-docs/img/bnr3.png" /></a><a class="bnr" href="http://xpressengine.github.io/Composer-korean-docs/"><img src="/laravel-korean-docs/img/bnr4.png" /></a><a class="bnr" href="http://laravel.com/"><img src="/laravel-korean-docs/img/bnr5.png" /></a>
        </div>
    </div>
    <div class="body docs">
        <div class="wrap">
            <section class="sidebar">
            <ul>
    <li>Prologue
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/upgrade">업그레이드 가이드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contributions">기여 가이드</a></li>
        </ul>
    </li>
    <li>Setup
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/installation">설치하기</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/configuration">설정</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/homestead">라라벨 홈스테드</a></li>
        </ul>
    </li>
    <li>The Basics
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/routing">HTTP 라우팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/middleware">HTTP 미들웨어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/controllers">HTTP 컨트롤러</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/requests">Requests</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/responses">Responses</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/views">뷰-Views</a></li>
        </ul>
    </li>
    <li>Architecture Foundations
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/providers">서비스 프로바이더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/container">서비스 컨테이너</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contracts">Contracts</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/facades">파사드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/lifecycle">라이프사이클</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/structure">어플리케이션 구조</a></li>
        </ul>
    </li>
    <li>Services
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/authentication">인증</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/billing">라라벨 캐셔</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/cache">캐시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/collections">컬렉션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/bus">커맨드 버스</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/extending">프레임워크의 확장</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/elixir">라라벨 엘릭서</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/encryption">암호화</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/envoy">Envoy</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/errors">에러와 로깅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/events">이벤트</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/filesystem">파일시스템 / 클라우드 스토리지</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/hashing">해시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/helpers">헬퍼 함수</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/localization">지역화-다국어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/mail">메일</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/packages">패키지 개발</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/pagination">페이지네이션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queues">큐</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/session">세션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/templates">템플릿</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/testing">테스팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/validation">Validation</a></li>
        </ul>
    </li>
    <li>Database
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/database">기본적인 데이터 베이스 사용법</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queries">쿼리 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/eloquent">Eloquent ORM</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/schema">스키마 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/migrations">마이그레이션과 시딩</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/redis">Redis</a></li>
        </ul>
    </li>
    <li>Artisan CLI
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/artisan">아티즌 CLI</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/commands">아티즌 명령어 개발하기</a></li>
        </ul>
    </li>
</ul>
            </section>

      <article class="content">
      <h1 id="패키지-개발(package-development)">패키지 개발(Package Development)</h1>

<ul>
<li><a href="#introduction">소개</a></li>
<li><a href="#views">뷰</a></li>
<li><a href="#translations">언어파일</a></li>
<li><a href="#configuration">설정</a></li>
<li><a href="#public-assets">Public Assets </a></li>
<li><a href="#publishing-file-groups">Publishing File Groups </a></li>
<li><a href="#routing">라우팅</a></li>
</ul>

<p><a name="introduction"></a></p>

<h2 id="소개">소개</h2>

<p>패키지를 개발하는 것은 라라벨에 기능을 추가하는 주요한 방법입니다. 패키지는 예를 들어 날짜 라이브러리인 <a href="https://github.com/briannesbitt/Carbon">Carbon</a>이나 BDD(행위 주도 개발) 테스트 프레임워크인 <a href="https://github.com/Behat/Behat">Behat</a>과 같이 어느 것이든 될 수 있습니다. </p>

<p>물론 다양한 종류의 패키지가 존재합니다. 라라벨 뿐만 아니라 다른 어떤 프레임워크와도 작동할 수 있는 독립적인 패키지도 있습니다. Carbon 과 Behat 은 이런 독립적으로 동작하는 패키지들의 예입니다. 이러한 패키지들을 라라벨과 사용하려면 <code>composer.json</code>파일에 추가하면 됩니다. </p>

<p>반대로, 라라벨 프레임워크에만 사용할 수 있는 패키지들도 있습니다. 이러한 패키지들은 라라벨 응용 프로그램의 기능을 사용하는 라우트, 컨트롤러, 뷰, 설정들을 가질 것입니다. 이 가이드는 라라벨에 특화된 패키지의 개발을 주로 설명합니다.</p>

<p>모든 라라벨 패키지는 <a href="http://packagist.org">Packagist</a> 와 <a href="http://getcomposer.org">Composer</a>를 통해서 배포되기 때문에 PHP 패키지 배포 도구에 대해 알고 있는 것이 중요합니다. </p>

<p><a name="views"></a></p>

<h2 id="뷰">뷰</h2>

<p>패키지의 내부 구조는 여러분이 구성하기 나름입니다. 그러나 일반적으로 각 패키지는 하나 이상의 <a href="/docs/5.0/providers">서비스 프로바이더</a>를 가지고 있습니다. 서비스 프로바이더는 <a href="/docs/5.0/container">서비스 컨테이너</a> 바인딩을 설정하고, 동시에 패키지의 설정, 뷰, 언어 파일의 위치를 지정합니다.</p>

<h3 id="뷰-파일">뷰 파일</h3>

<p>일반적으로 패키지의 뷰는 더블 콜론을 사용하여 ”네임 스페이스”를 지정합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return view(&#39;package::view.name&#39;);
</code></pre></div>
<p>여러분이 해야할 것은 주어진 네임스페이스에 해당하는 뷰 파일들이 어디에 있는지 라라벨에 알려주는 것입니다. 예를들어 여러분의 패키지 이름이 “courier” 라고 할 때 서비스 프로바이더의 <code>boot</code> 메소드에 다음과 같이 뷰 파일의 위치를 설정할 수 있습니다. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">public function boot()
{
    $this-&gt;loadViewsFrom(__DIR__.&#39;/path/to/views&#39;, &#39;courier&#39;);
}
</code></pre></div>
<p>이제 패키지에서 다음처럼 뷰파일을 로드 할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return view(&#39;courier::view.name&#39;);
</code></pre></div>
<p>여러분이 <code>loadViewsFrom</code> 메소드를 사용할 때, 라라벨은 실제로 뷰을 위한 <strong>두개의</strong> 위치를 등록합니다. 하나는 어플리케이션의 <code>resources/views/vendor</code> 디렉토리 이고, 다른 하나는 여러분이 지정한 디렉토리 입니다. 앞의 <code>courier</code> 예제를 생각해 보면, 패키지의 뷰가 요청될 때 라라벨은 먼저 <code>resources/views/vendor/courier</code> 디렉토리에 파일이 준비되어 있는지 확인합니다. 이때 뷰를 확인하지 못하면 여러분이 <code>loadViewsFrom</code>를 통해서 지정한 디렉토리에서 패키지 뷰를 찾게 될 것입니다. 이러한 방법은 사용자가 여러분의 패키지 뷰를 수정하거나, 재정의 하기 쉽게 해줍니다. </p>

<h4 id="뷰-퍼블리싱">뷰 퍼블리싱</h4>

<p>패키지의 뷰를 <code>resources/views/vendor</code> 디렉토리에 퍼블리싱하려면 서비스 프로바이더의 <code>boot</code> 메소드에서 <code>publishes</code> 메소드를 사용하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">public function boot()
{
    $this-&gt;loadViewsFrom(__DIR__.&#39;/path/to/views&#39;, &#39;courier&#39;);

    $this-&gt;publishes([
        __DIR__.&#39;/path/to/views&#39; =&gt; base_path(&#39;resources/views/vendor/courier&#39;),
    ]);
}
</code></pre></div>
<p>이제 패키지를 이용하는 사용자가 라라벨의 <code>vendor:public</code> 명령어를 실행하면 패키지 뷰 디렉토리가 지정된 위치로 복사 될 것입니다:</p>

<p>파일이 있을 때 덮어 씌우려면 명령어에 <code>--force</code> 옵션을 주면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">php artisan vendor:publish --force
</code></pre></div>
<blockquote>
<p><strong>참고 :</strong> <code>publishes</code> 메소드는 <strong>어떤</strong> 유형의 파일이라도 원하는 위치로 파일을 퍼블리싱 할 수 있습니다.</p>
</blockquote>

<p><a name="translations"></a></p>

<h2 id="언어파일">언어파일</h2>

<p>일반적으로 패키지의 언어파일은 더블 콜론을 사용하여 ”네임 스페이스”를 지정합니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return trans(&#39;package::file.line&#39;);
</code></pre></div>
<p>여러분이 해야할 것은 주어진 네임스페이스에 해당하는 언어 파일들이 어디에 있는지 라라벨에 알려주는 것입니다.  예를들어 여러분의 패키지 이름이 “courier” 라고 할 때 서비스 프로바이더의 <code>boot</code> 메소드에 다음과 같이 언어 파일의 위치를 설정할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">public function boot()
{
    $this-&gt;loadTranslationsFrom(__DIR__.&#39;/path/to/translations&#39;, &#39;courier&#39;);
}
</code></pre></div>
<p>여러분의 <code>언어 파일</code> 폴더 안에 <code>en</code>, <code>es</code>, <code>ru</code>와 같이 각 언어별로 하위 디렉토리로 나뉘어있을 필요가 있다는 점에 유의하십시오.</p>

<p>이제 여러분의 패키지 언어 파일을 다음과 같이 로드 할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">return trans(&#39;courier::file.line&#39;);
</code></pre></div>
<p><a name="configuration"></a></p>

<h2 id="설정">설정</h2>

<p>일반적으로 여러분은 패키지의 설정 파일을 어플리케이션의 <code>config</code> 디렉토리에 퍼블리싱 하기를 원할 것입니다. 이것은 여러분의 패키지의 사용자가 패키지 설정 파일의 기본 옵션들을 손쉽게 수정할 수 있도록 해줍니다. </p>

<p>설정 파일들을 퍼블리싱 하기 위해서는 서비스 프로바이더의 <code>boot</code> 메소드에서 <code>publishes</code> 메소드를 사용하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$this-&gt;publishes([
    __DIR__.&#39;/path/to/config/courier.php&#39; =&gt; config_path(&#39;courier.php&#39;),
]);
</code></pre></div>
<p>이제 패키지를 이용하는 사용자가 라라벨의 <code>vendor:public</code> 명령어를 실행하면 패키지 설정 파일이 지정된 위치로 복사 될 것입니다. 설정 파일이 한번 복사되고 나면 다른 설정 파일과 마찬가지로 손쉽게 엑세스 할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$value = config(&#39;courier.option&#39;);
</code></pre></div>
<p>여러분은 또한 패키지 설정 파일이 어플리케이션의 설정 파일에 합쳐지도록 할 수도 있습니다. 이렇게 하면 퍼블리싱된 설정 파일의 복사에서 사용자가 실제로 재 정의 하기를 원하는 옵션만을 포함 하도록 할 수 있습니다. 설정 파일을 합치려면 서비스 프로바이더의 <code>register</code> 메소드안에서 <code>mergeConfigFrom</code> 메소드를 사용하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$this-&gt;mergeConfigFrom(
    __DIR__.&#39;/path/to/config/courier.php&#39;, &#39;courier&#39;
);
</code></pre></div>
<p><a name="public-assets"></a></p>

<h2 id="public-의-asset-파일들.">Public 의 Asset 파일들.</h2>

<p>여러분의 패키지가 JavaScript, CSS 그리고 이미지 파일들 처럼 asset 파일들을 가지고 있을 수 있습니다. 이 파일들을 퍼블리싱 하기 위해서는 서비스 프로바이더의 <code>boot</code> 메소드에서 <code>publishes</code> 메소드를 사용하면 됩니다. 다음 예제에서는 &quot;public&quot; asset 그룹 태그를 추가로 지정하고 있습니다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$this-&gt;publishes([
    __DIR__.&#39;/path/to/assets&#39; =&gt; public_path(&#39;vendor/courier&#39;),
], &#39;public&#39;);
</code></pre></div>
<p>이제 패키지를 이용하는 사용자가 라라벨의 <code>vendor:public</code> 명령어를 실행하면 패키지 설정 파일이 지정된 위치로 복사 될 것입니다. 일반적으로 패키지가 업데이트 될 때에는 asset 파일들을 덮어써야 하기 때문에 이때에는 <code>--force</code> 플래그를 사용하면 됩니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">php artisan vendor:publish --tag=public --force
</code></pre></div>
<p>Public 의 asset 파일들을 항상 안전하게 업데이트하려면 이 명령어들을 <code>composer.json</code> 파일의 <code>post-update-cmd</code> 목록에 추가하는 것이 좋습니다. </p>

<p><a name="publishing-file-groups"></a></p>

<h2 id="파일-그룹-퍼블리싱하기">파일 그룹 퍼블리싱하기</h2>

<p>파일 그룹별로 분할하여 퍼블리싱 할 수 있습니다. 예를 들어, 사용자 패키지의 설정 파일 및 asset 파일을 별도로 사용할 수 있도록 하고자하는 경우입니다. 이런경우 이 파일들을 ‘태깅’함으로써 할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">// Publish a config file
$this-&gt;publishes([
    __DIR__.&#39;/../config/package.php&#39; =&gt; config_path(&#39;package.php&#39;)
], &#39;config&#39;);

// Publish your migrations
$this-&gt;publishes([
    __DIR__.&#39;/../database/migrations/&#39; =&gt; database_path(&#39;/migrations&#39;)
], &#39;migrations&#39;);
</code></pre></div>
<p>이제 태그를 지정 하면 파일을 분할하여 퍼블리싱 할 수 있습니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">php artisan vendor:publish --provider=&quot;Vendor\Providers\PackageServiceProvider&quot; --tag=&quot;config&quot;
</code></pre></div>
<p><a name="routing"></a></p>

<h2 id="라우팅">라우팅</h2>

<p>패키지에서 라우트 파일을 로딩 하기 위해서는 서비스 프로바이더의 <code>boot</code> 메소드 안에서 간단하게 <code>include</code>를 사용하면 됩니다. </p>

<h4 id="서비스-프로바이더에서-라우트-파일-로드하기">서비스 프로바이더에서 라우트 파일 로드하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">public function boot()
{
    include __DIR__.&#39;/../../routes.php&#39;;
}
</code></pre></div>
<blockquote>
<p><strong>주의:</strong> 여러분의 패키지가 컨트롤러를 사용하고 있다면 <code>composer.json</code> 파일의 설정을 통해서 오토로드가 될 수 있어야 합니다. </p>
</blockquote>

      </article>

    
        </div>
    </div>
</div>
<script>
$('p a[name]').each(function(){
  var name = $(this).attr('name');
  $(this).parent().next('h2').wrapInner('<a name=' + name + '></a>');
  $(this).parent().remove();
});
$('code[class=language-text]').each(function(){
	$(this).removeClass('language-text').addClass('language-php');
});
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
  var pageTracker = _gat._getTracker("UA-46389165-7");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>

</html>
