<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>파일시스템 / 클라우드 스토리지(Filesystem / Cloud Storage)</title>
  <meta name="description" content="라라벨 한글 메뉴얼에 대한 메뉴얼 페이지입니다.">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/laravel-korean-docs/js/prism.js"></script>

  <link rel="stylesheet" href="/laravel-korean-docs/css/layout.css">
  <link rel="canonical" href="http://www.xpressengine.com/laravel-korean-docs/docs/5.0/filesystem/">
</head>


  <body>

    <div class="container">
    <header>
        <div class="wrap">
            <h1 class="logo"><a href="/laravel-korean-docs/">Laravel korean docs <small>laravel 한글 매뉴얼</small></a></h1>
            <div class="btn_area">
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/tree/kr-5.0/kr">View on Github</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/archive/kr-5.0.zip">Download.zip</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs.git">Git Repository</a>
            </div>
        </div>
    </header>
    <div class="supported">
        <div class="wrap">
            <a class="bnr" href="http://www.xpressengine.com"><img src="/laravel-korean-docs/img/bnr1.png" /></a><a class="bnr" href="http://dev.naver.com/d2"><img src="/laravel-korean-docs/img/bnr2.png" /></a><a class="bnr" href="http://xpressengine.github.io/XEIcon/"><img src="/laravel-korean-docs/img/bnr3.png" /></a><a class="bnr" href="http://xpressengine.github.io/Composer-korean-docs/"><img src="/laravel-korean-docs/img/bnr4.png" /></a><a class="bnr" href="http://laravel.com/"><img src="/laravel-korean-docs/img/bnr5.png" /></a>
        </div>
    </div>
    <div class="body docs">
        <div class="wrap">
            <section class="sidebar">
            <ul>
    <li>Prologue
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/upgrade">업그레이드 가이드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contributions">기여 가이드</a></li>
        </ul>
    </li>
    <li>Setup
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/installation">설치하기</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/configuration">설정</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/homestead">라라벨 홈스테드</a></li>
        </ul>
    </li>
    <li>The Basics
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/routing">HTTP 라우팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/middleware">HTTP 미들웨어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/controllers">HTTP 컨트롤러</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/requests">Requests</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/responses">Responses</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/views">뷰-Views</a></li>
        </ul>
    </li>
    <li>Architecture Foundations
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/providers">서비스 프로바이더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/container">서비스 컨테이너</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contracts">Contracts</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/facades">파사드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/lifecycle">라이프사이클</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/structure">어플리케이션 구조</a></li>
        </ul>
    </li>
    <li>Services
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/authentication">인증</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/billing">라라벨 캐셔</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/cache">캐시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/collections">컬렉션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/bus">커맨드 버스</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/extending">프레임워크의 확장</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/elixir">라라벨 엘릭서</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/encryption">암호화</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/envoy">Envoy</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/errors">에러와 로깅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/events">이벤트</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/filesystem">파일시스템 / 클라우드 스토리지</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/hashing">해시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/helpers">헬퍼 함수</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/localization">지역화-다국어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/mail">메일</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/packages">패키지 개발</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/pagination">페이지네이션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queues">큐</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/session">세션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/templates">템플릿</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/testing">테스팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/validation">Validation</a></li>
        </ul>
    </li>
    <li>Database
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/database">기본적인 데이터 베이스 사용법</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queries">쿼리 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/eloquent">Eloquent ORM</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/schema">스키마 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/migrations">마이그레이션과 시딩</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/redis">Redis</a></li>
        </ul>
    </li>
    <li>Artisan CLI
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/artisan">아티즌 CLI</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/commands">아티즌 명령어 개발하기</a></li>
        </ul>
    </li>
</ul>
            </section>

      <article class="content">
      <h1 id="파일시스템-/-클라우드-스토리지(filesystem-/-cloud-storage)">파일시스템 / 클라우드 스토리지(Filesystem / Cloud Storage)</h1>

<ul>
<li><a href="#introduction">소개</a></li>
<li><a href="#configuration">설정</a></li>
<li><a href="#basic-usage">기본적인 사용법</a></li>
<li><a href="#custom-filesystems">사용자 지정 파일 시스템</a></li>
</ul>

<p><a name="introduction"></a></p>

<h2 id="소개">소개</h2>

<p>라라벨은 Frank de Jonge가 만든 <a href="https://github.com/thephpleague/flysystem">Flysystem</a> 패키지를 기반으로 하는 강력한 추상화된 파일 시스템을 제공합니다. 라라벨의 통합된 파일 시스템은 로컬, 아마존 S3 그리고 Rackspace 클라우드 스토리지를 드라이버들을 통해서 간단하게 사용할 수 있게 제공합니다. 더욱 놀라운 것은, 각각의 시스템에 대해 동일한 API를 사용하고 있기 때문에 스토리지를 매우 쉽게 변경할 수 있다는 것입니다!</p>

<p><a name="configuration"></a></p>

<h2 id="설정">설정</h2>

<p>파일시스템의 설정 파일은 <code>config/filesystems.php</code> 파일에 위치하고 있습니다. 이 파일 안에서 여러분은 여러분의 모든 “디스크”에 대해 설정할 수 있습니다. 각각의 디스크는 개별 스토리지 드라이버와 스토리지의 위치를 나타냅니다. 설정 파일에는 각각 지원하고 있는 드라이버에 대한 예제 설정이 들어 있습니다. 따라서 스토리지 구성 및 인증정보를 반영하도록 간단하게 설정을 수정할 수 있습니다. </p>

<p>S3 또는 Rackspace 드라이버를 사용하기 전에 여러분은 해당하는 패키지를 컴포저를 통해서 설치해야 합니다. </p>

<ul>
<li>Amazon S3: <code>league/flysystem-aws-s3-v2 ~1.0</code></li>
<li>Rackspace: <code>league/flysystem-rackspace ~1.0</code></li>
</ul>

<p>물론 여러분은 원하는만큼 디스크를 설정할 수 있으며, 동일한 드라이버에 대해 여러개의 디스크를 가질 수도 있습니다.</p>

<p><code>local</code> 드라이버를 사용하는 경우, 설정 파일에 정의되어있는 <code>root</code> 디렉토리를 기준으로 모든 파일이 상대적으로 조작된다는 것에 주의하십시오. 기본적으로 이 값은 <code>storage/app</code> 디렉토리로 설정 되어 있습니다. 따라서 다음의 코드는 <code>storage/app/file.txt</code> 에 파일을 저장합니다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::disk(&#39;local&#39;)-&gt;put(&#39;file.txt&#39;, &#39;Contents&#39;);
</code></pre></div>
<p><a name="basic-usage"></a></p>

<h2 id="기본적인-사용법">기본적인 사용법</h2>

<p><code>Storage</code> 파사드를 사용하여 설정된 디스크에 대한 작업을 처리할 수 있습니다. 또한 라라벨의 <a href="/docs/5.0/container">서비스 컨테이너</a>에 의해서 의존성이 해결될 수 있도록 <code>Illuminate\Contracts\Filesystem\Factory</code> contract를 타입힌트에 사용할 수도 있습니다. </p>

<h4 id="지정된-디스크-객체-반환하기">지정된 디스크 객체 반환하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$disk = Storage::disk(&#39;s3&#39;);

$disk = Storage::disk(&#39;local&#39;);
</code></pre></div>
<h4 id="파일이-존재하는지-확인하기">파일이 존재하는지 확인하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$exists = Storage::disk(&#39;s3&#39;)-&gt;exists(&#39;file.jpg&#39;);
</code></pre></div>
<h4 id="기본-스토리지에-파일이-존재하는지-확인하기">기본 스토리지에 파일이 존재하는지 확인하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">if (Storage::exists(&#39;file.jpg&#39;))
{
    //
}
</code></pre></div>
<h4 id="파일-내용-가져오기">파일 내용 가져오기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$contents = Storage::get(&#39;file.jpg&#39;);
</code></pre></div>
<h4 id="파일에-내용-작성하기">파일에 내용 작성하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::put(&#39;file.jpg&#39;, $contents);
</code></pre></div>
<h4 id="파일의-앞부분에-내용-추가하기">파일의 앞부분에 내용 추가하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::prepend(&#39;file.log&#39;, &#39;Prepended Text&#39;);
</code></pre></div>
<h4 id="파일의-마지막에-내용-추가하기">파일의 마지막에 내용 추가하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::append(&#39;file.log&#39;, &#39;Appended Text&#39;);
</code></pre></div>
<h4 id="파일-삭제하기">파일 삭제하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::delete(&#39;file.jpg&#39;);

Storage::delete([&#39;file1.jpg&#39;, &#39;file2.jpg&#39;]);
</code></pre></div>
<h4 id="파일을-새로운-위치에-복사하기">파일을 새로운 위치에 복사하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::copy(&#39;old/file1.jpg&#39;, &#39;new/file1.jpg&#39;);
</code></pre></div>
<h4 id="파일을-새로운-위치로-이동하기">파일을 새로운 위치로 이동하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::move(&#39;old/file1.jpg&#39;, &#39;new/file1.jpg&#39;);
</code></pre></div>
<h4 id="파일-사이즈-가져오기">파일 사이즈 가져오기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$size = Storage::size(&#39;file1.jpg&#39;);
</code></pre></div>
<h4 id="파일의-최근-수정일자-가져오기(unix)">파일의 최근 수정일자 가져오기(UNIX)</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$time = Storage::lastModified(&#39;file1.jpg&#39;);
</code></pre></div>
<h4 id="지정한-디렉토리-안에-모든-파일들-가져오기">지정한 디렉토리 안에 모든 파일들 가져오기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$files = Storage::files($directory);

// Recursive...
$files = Storage::allFiles($directory);
</code></pre></div>
<h4 id="지정한-디렉토리-안의-모든-디렉토리-가져오기">지정한 디렉토리 안의 모든 디렉토리 가져오기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$directories = Storage::directories($directory);

// Recursive...
$directories = Storage::allDirectories($directory);
</code></pre></div>
<h4 id="디렉토리-생성하기">디렉토리 생성하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::makeDirectory($directory);
</code></pre></div>
<h4 id="디렉토리-삭제하기">디렉토리 삭제하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Storage::deleteDirectory($directory);
</code></pre></div>
<p><a name="custom-filesystems"></a></p>

<h2 id="사용자-지정-파일-시스템">사용자 지정 파일 시스템</h2>

<p>라라벨의 통합 파일시스템은 처음부터 다양한 “드라이버”가 제공됩니다. 하지만 파일시스템은 이러한 드라이버에 제한적이지 않고, 다은 스토리지 시스템에도 적용할 수 있습니다. 여러분은 라라벨 어플리케이션에 적합한 스토리지 시스템에 대한 사용자 정의 드라이버를 생성할 수 있습니다. 걱정마십시오. 그렇게 어렵지 않습니다. </p>

<p>예를 들어 DropboxFilesystemServiceProvider 같은 만드는 사용자 정의 파일 시스템을 위해 서비스 제공자를 준비하십시오. 제공자의 boot 메소드 속으로, Illuminate \ Contracts \ Filesystem \ Factory 계약의 인스턴스를 주입하고 extend 메소드를 호출합니다. 혹은 Disk 외관 extend 메소드를 사용할 수 있습니다.</p>

<p><code>extens</code> 메소드의 첫번째 인자는 드라이버의 이름이고, 두번째는 <code>$app</code> 과 <code>$config</code> 변수를 전달 받는 클로저가 됩니다. 이 클로저는 <code>League\Flysystem\Filesystem</code> 에 대한 인스턴스를 반환해야 합니다. </p>

<blockquote>
<p><strong>참고</strong> $config 변수는 지정된 디스크를 위한 <code>config/filesystems.php</code> 파일에 정의된 값을 포함할 것입니다. </p>
</blockquote>

<h4 id="드랍박스-예제">드랍박스 예제</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;?php namespace App\Providers;

use Storage;
use League\Flysystem\Filesystem;
use Dropbox\Client as DropboxClient;
use League\Flysystem\Dropbox\DropboxAdapter;
use Illuminate\Support\ServiceProvider;

class DropboxFilesystemServiceProvider extends ServiceProvider {

    public function boot()
    {
        Storage::extend(&#39;dropbox&#39;, function($app, $config)
        {
            $client = new DropboxClient($config[&#39;accessToken&#39;], $config[&#39;clientIdentifier&#39;]);

            return new Filesystem(new DropboxAdapter($client));
        });
    }

    public function register()
    {
        //
    }

}
</code></pre></div>
      </article>

    
        </div>
    </div>
</div>
<script>
$('p a[name]').each(function(){
  var name = $(this).attr('name');
  $(this).parent().next('h2').wrapInner('<a name=' + name + '></a>');
  $(this).parent().remove();
});
$('code[class=language-text]').each(function(){
	$(this).removeClass('language-text').addClass('language-php');
});
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
  var pageTracker = _gat._getTracker("UA-46389165-7");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>

</html>
